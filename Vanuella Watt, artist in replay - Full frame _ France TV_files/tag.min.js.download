/*! Copyright (c) 2025 Mediarithmics; All Rights Reserved */
(()=>{var n={2705:(e,t,n)=>{n=n(5639).Symbol;e.exports=n},6874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4636:(e,t,n)=>{var l=n(2545),d=n(5694),p=n(1469),h=n(4144),f=n(5776),g=n(6719),v=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n,o=p(e),i=!o&&d(e),r=!o&&!i&&h(e),s=!o&&!i&&!r&&g(e),a=o||i||r||s,c=a?l(e.length,String):[],u=c.length;for(n in e)!t&&!v.call(e,n)||a&&("length"==n||r&&("offset"==n||"parent"==n)||s&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||f(n,u))||c.push(n);return c}},4865:(e,t,n)=>{var i=n(9465),r=n(7813),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];s.call(e,t)&&r(o,n)&&(void 0!==n||t in e)||i(e,t,n)}},9465:(e,t,n)=>{var o=n(8777);e.exports=function(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},4239:(e,t,n)=>{var o=n(2705),i=n(9607),r=n(2333),s=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(s&&s in Object(e)?i:r)(e)}},9454:(e,t,n)=>{var o=n(4239),i=n(7005);e.exports=function(e){return i(e)&&"[object Arguments]"==o(e)}},8458:(e,t,n)=>{var o=n(3560),i=n(5346),r=n(3218),s=n(1257),a=/^\[object .+?Constructor\]$/,c=Function.prototype,n=Object.prototype,c=c.toString,n=n.hasOwnProperty,u=RegExp("^"+c.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||i(e))&&(o(e)?u:a).test(s(e))}},8749:(e,t,n)=>{var o=n(4239),i=n(1780),r=n(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&i(e.length)&&!!s[o(e)]}},313:(e,t,n)=>{var i=n(3218),r=n(5726),s=n(3498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return s(e);var t,n=r(e),o=[];for(t in e)("constructor"!=t||!n&&a.call(e,t))&&o.push(t);return o}},5976:(e,t,n)=>{var o=n(6557),i=n(5357),r=n(61);e.exports=function(e,t){return r(i(e,t,o),e+"")}},6560:(e,t,n)=>{var o=n(5703),i=n(8777),n=n(6557);e.exports=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:n},2545:e=>{e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},7518:e=>{e.exports=function(t){return function(e){return t(e)}}},8363:(e,t,n)=>{var u=n(4865),l=n(9465);e.exports=function(e,t,n,o){var i=!n;n=n||{};for(var r=-1,s=t.length;++r<s;){var a=t[r],c=o?o(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),(i?l:u)(n,a,c)}return n}},4429:(e,t,n)=>{n=n(5639)["__core-js_shared__"];e.exports=n},1463:(e,t,n)=>{var o=n(5976),c=n(6612);e.exports=function(a){return o(function(e,t){var n=-1,o=t.length,i=1<o?t[o-1]:void 0,r=2<o?t[2]:void 0,i=3<a.length&&"function"==typeof i?(o--,i):void 0;for(r&&c(t[0],t[1],r)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var s=t[n];s&&a(e,s,n,i)}return e})}},8777:(e,t,n)=>{var o=n(852),n=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=n},1957:(e,t,n)=>{n="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=n},852:(e,t,n)=>{var o=n(8458),i=n(7801);e.exports=function(e,t){return t=i(e,t),o(t)?t:void 0}},9607:(e,t,n)=>{var o=n(2705),n=Object.prototype,r=n.hasOwnProperty,s=n.toString,a=o?o.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),n=e[a];try{var o=!(e[a]=void 0)}catch(e){}var i=s.call(e);return o&&(t?e[a]=n:delete e[a]),i}},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},5776:e=>{var o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&-1<e&&e%1==0&&e<t}},6612:(e,t,n)=>{var i=n(7813),r=n(8612),s=n(5776),a=n(3218);e.exports=function(e,t,n){if(!a(n))return!1;var o=typeof t;return!!("number"==o?r(n)&&s(t,n.length):"string"==o&&t in n)&&i(n[t],e)}},5346:(e,t,n)=>{var n=n(4429),o=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},5726:e=>{var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1167:(e,t,n)=>{e=n.nmd(e);var n=n(1957),t=t&&!t.nodeType&&t,o=t&&e&&!e.nodeType&&e,i=o&&o.exports===t&&n.process,n=function(){try{var e=o&&o.require&&o.require("util").types;return e?e:i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=n},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5357:(e,t,n)=>{var c=n(6874),u=Math.max;e.exports=function(r,s,a){return s=u(void 0===s?r.length-1:s,0),function(){for(var e=arguments,t=-1,n=u(e.length-s,0),o=Array(n);++t<n;)o[t]=e[s+t];for(var t=-1,i=Array(s+1);++t<s;)i[t]=e[t];return i[s]=a(o),c(r,this,i)}}},5639:(e,t,n)=>{var o=n(1957),n="object"==typeof self&&self&&self.Object===Object&&self,n=o||n||Function("return this")();e.exports=n},61:(e,t,n)=>{var o=n(6560),o=n(1275)(o);e.exports=o},1275:e=>{var r=Date.now;e.exports=function(n){var o=0,i=0;return function(){var e=r(),t=16-(e-i);if(i=e,0<t){if(800<=++o)return arguments[0]}else o=0;return n.apply(void 0,arguments)}}},1257:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},3045:(e,t,n)=>{var o=n(8363),i=n(1463),r=n(1704),i=i(function(e,t){o(t,r(t),e)});e.exports=i},5703:e=>{e.exports=function(e){return function(){return e}}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},2205:(e,t,n)=>{e.exports=n(3045)},6557:e=>{e.exports=function(e){return e}},5694:(e,t,n)=>{var o=n(9454),i=n(7005),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,o=o(function(){return arguments}())?o:function(e){return i(e)&&r.call(e,"callee")&&!s.call(e,"callee")};e.exports=o},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var o=n(3560),i=n(1780);e.exports=function(e){return null!=e&&i(e.length)&&!o(e)}},4144:(e,t,n)=>{e=n.nmd(e);var o=n(5639),i=n(5062),n=t&&!t.nodeType&&t,t=n&&e&&!e.nodeType&&e,o=t&&t.exports===n?o.Buffer:void 0,o=o?o.isBuffer:void 0;e.exports=o||i},3560:(e,t,n)=>{var o=n(4239),i=n(3218);e.exports=function(e){return!!i(e)&&("[object Function]"==(e=o(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}},1780:e=>{e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6719:(e,t,n)=>{var o=n(8749),i=n(7518),n=n(1167),n=n&&n.isTypedArray,o=n?i(n):o;e.exports=o},1704:(e,t,n)=>{var o=n(4636),i=n(313),r=n(8612);e.exports=function(e){return r(e)?o(e,!0):i(e)}},5062:e=>{e.exports=function(){return!1}},2707:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MICS_TAG_DEBUG_MODE_KEY=void 0;var i=n(5737),r=n(7238),s=n(2461),a=n(6701),c=n(971),u=n(2228),n=o(n(3045));t.MICS_TAG_DEBUG_MODE_KEY="mics_debug_tag";var l,d,p,h,f,g,t="1"===(new a.Cache).get(t.MICS_TAG_DEBUG_MODE_KEY)||"1"===(0,u.readCookie)(t.MICS_TAG_DEBUG_MODE_KEY)||!1,v=(0,s.Console)("tag",t),s=window.navigator.userAgent;function _(e){return void 0!==e.context}function y(t){c.mics._names.forEach(function(e){t(e)})}function m(t){y(function(e){e=c.mics[e];_(e)&&t(e)})}/googlebot|bingbot|yandexbot|baiduspider/i.test(s)||(l=!1,d=(new Date).getTime(),new i.AdServer(t).setDFPTargeting(),i={_tagVersion:"2.0.20250213-build-188-rev-597a114",_call:function(e,t,n){var o;v.debug("mics._call",e,t,n),o=e,c.mics._names.filter(function(e){e=c.mics[e];return _(e)&&(void 0!==e.options.site_token&&o===e.options.site_token||void 0!==e.options.datamart_token&&o===e.options.datamart_token)}).map(function(e){return c.mics[e]}).forEach(function(e){void 0!==e[t]&&e[t].apply(e,n)})},_setConfig:function(t){return m(function(e){return e.setConfig(t)})},_markConfigAsLoaded:function(){return m(function(e){return e.markConfigAsLoaded()})},_upsertAdvertisingCookie:function(t,n,o,i,r){return m(function(e){return e.upsertAdvertisingCookie(t,n,o,i,r)})},_declareAdvertisingCookieConsent:function(t){return m(function(e){return e.declareAdvertisingCookieConsent(t)})},_revokeAdvertisingCookieConsent:function(){return m(function(e){return e.revokeAdvertisingCookieConsent()})},_setEvaluator:function(t){return m(function(e){return e.setEvaluator(t)})},_setDeviceInfo:function(t){return m(function(e){return e.setDeviceInfo(t)})},_setSegmentDefinition:function(t){return m(function(e){return e.setSegmentDefinition(t)})},_setOperatorId:function(t,n){return m(function(e){return e.setOperatorId(t,n)})},_setUAID:function(t,n,o,i){return m(function(e){e._setUAID(t,n,o,i)})},_reset:function(e){l&&!e||(l=!0,v.info("mics.reset"),m(function(e){return e._reset()}),p._startTime=d)}},(p=c.mics)._tagVersion||(0,n.default)(p,i),f=t,g=(h=p)._queue,y(function(e){h[e]&&_(h[e])||(h[e]=new r.TagObject(e,f),window[e]=h[e])}),y(function(e){!function(e,t){var n=c.mics[e];for(;t.length;){var o=t.shift();o&&_(n)&&(v.debug("executing ",o,"on",e),n.callMicsMethod(o.method,o.args))}}(e,g[e])}),i={_call:i._call,_setConfig:i._setConfig,_markConfigAsLoaded:i._markConfigAsLoaded,_upsertAdvertisingCookie:i._upsertAdvertisingCookie,_setSegmentDefinition:i._setSegmentDefinition,_setDeviceInfo:i._setDeviceInfo,_setEvaluator:i._setEvaluator},window.mics=window.mics||{},(0,n.default)(window.mics,i),window.addEventListener&&window.addEventListener("beforeunload",function(){m(function(e){return e.pageQuit()})},!1))},5737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdServer=void 0;var o=n(6701),i=n(2461),n=(r.prototype.setDFPTargeting=function(){var n=this;try{window.googletag&&window.googletag.cmd?window.googletag.cmd.push(function(){var e=n.cache.get("mics_sgmts"),e=e&&"string"==typeof e?JSON.parse(e):void 0,t=e||{};Object.keys(t).forEach(function(e){window.googletag.pubads().setTargeting("mics_"+e,t[e].map(String))})}):this.console.info("DFP is not present")}catch(e){this.console.error("error setting DFP",e)}},r);function r(e){this.debug=e,this.cache=new o.Cache(!0),this.console=(0,i.Console)("AdServer",e),this.console.info("Starting Ad Server Connection")}t.AdServer=n},6701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0;var o=n(2461),n=(i.prototype.get=function(e){if(this.canUseLocalStorage)return window.localStorage.getItem(e)||void 0},i.prototype.store=function(e,t){this.canUseLocalStorage&&window.localStorage.setItem(e,t)},i.prototype.remove=function(e){this.canUseLocalStorage&&window.localStorage.removeItem(e)},i.prototype.isLocalStorageEnabled=function(){try{var e="is_enabled";return localStorage.setItem(e,"true"),"true"===localStorage.getItem(e)}catch(e){return this.debug&&console.log("localStorage is not enabled",e),!1}},i);function i(e){this.debug=!!e,this.console=(0,o.Console)(i.name,this.debug),this.canUseLocalStorage=this.isLocalStorageEnabled()}t.Cache=n},2461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Console=function(r,s){return function(e){var t,n={};for(t in e)n[e[t]]=function(i){return function(){if(s&&window.console&&Object.keys(window.console).includes(i))try{var e=Array.prototype.slice.apply(arguments),t=(new Date).getTime(),n=(0,a.durationFromSnippetStart)(t),o=n?n/1e3:0;e.unshift("ctx:".concat(r,"]")),e.unshift("[mics "+o.toFixed(3)+"s"),window.console[i].apply(window.console,e)}catch(e){window.console.log(e)}}}(e[t]);return n}("log debug info warn error".split(" "))};var a=n(971)},2228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCookie=i,t.deleteCookiesStartingWith=function(e,t){var n=new Date;n.setTime(0),r(e,n.toUTCString(),!1,t)},t.deleteCookie=function(e,t){var n=new Date(0);n.setTime(0),c.debug("delete cookie",e),document.cookie="".concat(e,"=;path=/;expires=").concat(n.toUTCString()).concat(t?";domain=".concat(t):"")},t.updateCookiesExpiration=r;var o=n(2461),t=n(6701),n=n(2707),n="1"===(new t.Cache).get(n.MICS_TAG_DEBUG_MODE_KEY)||"1"===i(n.MICS_TAG_DEBUG_MODE_KEY)||!1,c=(0,o.Console)("CookieHelper",n);function i(e){for(var t=0,n=document.cookie.split(";");t<n.length;t++){var o=n[t].replace(/ /g,"").split("="),i=o[0],o=o[1];if(i===e)return c.debug("found cookie",i,o),o}}function r(e,t,n,o){if(void 0===n&&(n=!1),e&&t)for(var i=0,r=document.cookie.split(";");i<r.length;i++){var s=r[i].replace(/ /g,"").split("="),a=s[0],s=s[1];(!n&&a.startsWith(e)||a===e)&&(c.debug("update cookie",a,s),document.cookie="".concat(a,"=").concat(s,";path=/;expires=").concat(t).concat(o?";domain=".concat(o):""))}}},517:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CookieMatcher=void 0;var i=n(5098),r=n(2461),s=o(n(4566)),a=o(n(9842)),n=(c.prototype.enableTcfForCookieMatching=function(e,t){this.UserChoiceHandler=e?new s.default(this.context,this.options.debug):new a.default,this.UserChoiceHandler.setParams(t)},c.prototype.setOperators=function(e){var t=this;this.operators=e.filter(function(e){return t.isConsent(e)})},c.prototype.end=function(){return this.gatherIdEnd},c.prototype.panicCallback=function(e){this.panicFn=e},c.prototype.setEtid=function(e){this.etid=e,this.finishIfPossible(!1)},c.prototype.isCookieMatchingAuthorizedByConsents=function(e){var t,n=null!==(t=null===(n=this.UserChoiceHandler)||void 0===n?void 0:n.areConsent(["mics"],[1,3]))&&void 0!==t&&t,e=null!==(e=!e||(null===(t=this.UserChoiceHandler)||void 0===t?void 0:t.areConsent([e],[])))&&void 0!==e&&e;return n&&e},c.prototype.disable=function(){this.finishIfPossible=function(){},this.gatherOperatorsIds=function(){},this.destroy()},c.prototype.destroy=function(){window.clearTimeout(this.watchDog)},c);function c(e,t){var o=this;this.isConsent=function(e){var t;return null===(t=o.UserChoiceHandler)||void 0===t?void 0:t.areConsent(["mics",e],[])},this.gatherOperatorsIds=function(){o.console.info("gatherOperatorsIds",o.operators),o.operators.forEach(function(e){return o.gatherId(e)}),0<o.timeout&&(o.watchDog=window.setTimeout(function(){o._timeout()},o.timeout))},this.getConsentUrlQueryStrings=function(){var e,n=null===(e=o.UserChoiceHandler)||void 0===e?void 0:e.getProperties();return n?Object.keys(n).reduce(function(e,t){return"".concat(e,"&").concat(t,"=").concat(n[t])},""):""},this.gatherId=function(t){var e="".concat(o.options.gather_operator_id_url,"?opid=").concat(t)+o.getConsentUrlQueryStrings();o.options.override_transport&&o.options.override_transport(e),(0,i.loadScript)(e,function(e){e&&(o.console.info("error while gather_id",t),o.setOperatorId(t,null))})},this.setOperatorId=function(e,t){o.isCookieMatchingAuthorizedByConsents(e)&&(t?o.retrievedIds.includes(t)||(o.console.log("setId("+e+", "+t+")"),o.retrievedIds.push(t),o.finished=o.retrievedIds.length===o.operators.length,o.finishIfPossible(!1)):o.finishIfPossible(!1))},this.finishIfPossible=function(e){var t;o.console.log("try to finish, panicMode:",e,"etid:",o.etid,"finished",o.finished),(o.finished||e)&&(o.gatherIdEnd=(new Date).getTime(),t=[],o.retrievedIds.forEach(function(e){return t.push(e)}),o.console.log("finishing."),e=o.options.cookie_matching_url+"?utidl="+t.join(","),o.etid&&(e=e+"&etid="+o.etid),e+=o.getConsentUrlQueryStrings(),o.options.site_token&&(e=e+"&$site_token="+o.options.site_token),o.options.datamart_token&&(e=e+"&$dat_token="+o.options.datamart_token),o.options.override_transport&&o.options.override_transport(e),(0,i.loadScript)(e,function(e){e&&o.panicFn&&(o.console.info("failed to load get_id"),o.panicFn("$get_id_failed"))}),o.ran=!0,o.destroy())},this._timeout=function(){o.isCookieMatchingAuthorizedByConsents()?o.finishIfPossible(!0):o.destroy()},this.finished=!1,this.context=t,this.ran=!1,this.operators=[],this.retrievedIds=[],this.timeout=e.gather_id_timeout_ms,this.watchDog=void 0,this.options=e,this.console=(0,r.Console)("CookieMatcher",e.debug)}t.CookieMatcher=n},4471:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentPage=void 0;var r=n(2228),s=n(346),a=i(n(4566)),c=i(n(9842)),u=n(2461),n=(l.prototype._parseSearch=function(e){var t,n,e=e.substring(1).split("&"),o={};return e.forEach(function(e){n=e.split("="),t=n[0],n=n[1],o[t]=decodeURIComponent(n).replace(/\+/g," ")}),o},l.prototype.markConfigAsLoaded=function(){this.confLoaded=!0},l.prototype.isConfLoaded=function(){return this.confLoaded},l.prototype.migrateCookie=function(e,t){var n,o,i=(0,r.readCookie)(e);i&&(n="".concat(e,"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=").concat(document.location.hostname),this.console.debug('Cookie migration: document.cookie="'.concat(n,'"')),document.cookie=n,(o=new Date).setTime(o.getTime()+864e5*this.options.cookie_max_age_in_days),n="".concat(e,"=").concat(i,";expires=").concat(o.toUTCString(),";path=/;domain=").concat(t),this.console.debug('Cookie migration: document.cookie="'.concat(n,'"')),document.cookie="".concat(n))},l.prototype.readPage=function(){this.updatePage(),!this.options.local_cookie_name||(n=(0,r.readCookie)(this.options.local_cookie_name))&&(this.properties.raw_cookie=n);var e=(0,r.readCookie)("mics_uaid");e&&(this.properties.$uaid=e);var t=(0,r.readCookie)("mics_vid"),n=(0,r.readCookie)("mics_lts"),e=n&&parseInt(n,10),n=e&&!isNaN(e);t&&this.userIdentifierHolder.addUserAgentIdentifier(t,void 0,n?e:void 0),n&&(this.properties.$lts=e),t&&e&&this.micsCookieDomain&&this.micsCookieDomainCreationTs&&this.micsCookieDomainCreationTs>e&&(this.console.log("Migrate cookie from ".concat(document.domain," to ").concat(this.micsCookieDomain)),this.migrateCookie("mics_vid",this.micsCookieDomain),this.migrateCookie("mics_lts",this.micsCookieDomain))},l.prototype.updatePage=function(){this.properties.$referrer=document.referrer,this.properties.$url=""+document.location,this._setUtm(),this._setGdpr()},l.prototype._setUtm=function(){var t=this,e="utm_source utm_medium utm_term utm_content utm_campaign".split(" "),n=this._parseSearch(window.location.search);e.forEach(function(e){n[e]&&(t.properties["$"+e]=n[e])})},l.prototype._setGdpr=function(){window[s.API_KEY]&&(this.properties.$tcfapi=1);var n=this.UserChoiceHandler.getProperties(),e=Object.keys(n).reduce(function(e,t){return o(o({},e),((e={})["$"+t]=n[t],e))},{});this.properties=o(o({},this.properties),e)},l.prototype.getVid=function(){return this.userIdentifierHolder.findVectorIdLongValue()},l.prototype.getLts=function(){return this.properties.$lts},l.prototype.getCookie=function(){return this.properties.$uaid},l.prototype.updateUAID=function(e,t,n){n=n?new Date(n):new Date((new Date).getTime()+24*Math.min(180,this.options.cookie_max_age_in_days)*60*60*1e3);e&&this.cookieUpsert("vec","vid",e,n.getTime(),this.micsCookieDomain,t),t&&(this.properties.$lts=t,document.cookie="mics_lts=".concat(encodeURIComponent(t),";expires=").concat(n.toUTCString(),";path=/").concat(this.micsCookieDomain?";domain=".concat(this.micsCookieDomain):""))},l.prototype.clearUAID=function(e){(0,r.deleteCookie)("mics_vid",e),(0,r.deleteCookie)("mics_lts",e)},l);function l(e,t,n,o,i){var r=this;this.setParams=function(e){r.UserChoiceHandler.setParams(e)},this.properties={},this.options=e,this.console=(0,u.Console)(o,i),this.confLoaded=!1,this.userIdentifierHolder=t,this.cookieUpsert=n,this.UserChoiceHandler=window[s.API_KEY]?new a.default(o,i):new c.default}t.CurrentPage=n},8146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventPusher=t.DEVICE_TECHNICAL_ID_MAPPING_EVENT_NAME=void 0;var c=n(2461),o=n(5098),s=n(971);function a(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}t.DEVICE_TECHNICAL_ID_MAPPING_EVENT_NAME="$device_technical_id_mapping";i.prototype.observerName=function(){return"EventPusher-"+this.context},i.prototype.sendCallQueue=function(e,t){for(var n=this.callQueue,o=t||{};n.length;){var i=(0,s.durationFromSnippetStart)((new Date).getTime());i&&(o.$delay={$push:i,$start:(0,s.durationFromSnippetStart)(this.tagStart),$gather_id_end:(0,s.durationFromSnippetStart)(this.cookieMatcher.end()),$beacon:e===this.beacon});var r=a(r=n.shift()||{},this.globalProperties);r=a(r,o),r=a(r,this.userIdentifierHolder.getEventPusherProperties()),this.console.info("pushing",r);i=this.endPointUrl+"?"+this.generateHttpQuery(r);this.eventsRunning++,this.eventsSent++,e(i,this.pixelSentCallback(this)),this.userPoint&&this.userPoint.addEvent(r)}this.panicMode||(this.console.info("complete before panicMode, clearing watchDog"),this.clearWatchDog())},i.prototype.disable=function(){this.disabled=!0,this.canTriggerCalls=function(){return!1},this.triggerCallsIfPossible=function(){},this.clearWatchDog(),this.beacon=function(){}},i.prototype.clearWatchDog=function(){this.watchDog&&(this.console.log("clearing watchdog"),window.clearTimeout(this.watchDog),this.watchDog=void 0)},i.prototype.setPanicCallback=function(e){this.panicFn=e},i.prototype.canTriggerCalls=function(){return this.currentPage&&this.currentPage.isConfLoaded()&&this.userIdentifierHolder.hasIdentifiers()||this.panicMode},i.prototype.triggerCallsIfPossible=function(){var e;this.console.info("trigger calls if possible: currentPage:",this.currentPage,"panicMode:",this.panicMode,", global:",this.globalProperties,"callQueue:",this.callQueue,"userIdentfiers:",this.userIdentifierHolder.userIdentifiers(),"getEventPusherProperties:",this.userIdentifierHolder.getEventPusherProperties(),"isPossible:",this.canTriggerCalls()),this.canTriggerCalls()&&(e={},this.panicMode&&this.panicReason&&(e.$error=this.panicReason),this.sendCallQueue(this.transportFunction||o.sendWithBeaconOrWithLoadPixel,e))},i.prototype.onNewIdentifier=function(e){0<this.eventsSent?this.push(t.DEVICE_TECHNICAL_ID_MAPPING_EVENT_NAME,e.toMappingEvent()):this.triggerCallsIfPossible()},i.prototype.onRemovedIdentifier=function(e){},i.prototype.setUserpoint=function(e){this.userPoint=e},i.prototype.pixelSentCallback=function(n){return function(e,t){if(e?(n.eventsRunning--,n.console.info("error with",e)):(n.console.info("successfully sent",t),n.eventsRunning--),n.finishedCallbackFunction&&0===n.eventsRunning){n.console.info("calling callback function: eventsRunning:",n.eventsRunning,"errors:",n.errorEvents);try{n.finishedCallbackFunction.apply(0===n.errorEvents.length)}catch(e){n.console.error("error has occurred while calling callback function",e)}}}},i.prototype.pushDefault=function(){this.push("$page_view",void 0)},i.prototype.push=function(e,t){if(!this.currentPage)throw new Error("mics is not initialized, call mics.init(YOUR_TOKEN) first !");t=t||{},this.currentPage.properties.path!=document.location&&this.currentPage.updatePage(),(t=a(t,this.currentPage.properties)).$ev=e,this.callQueue.push(t),this.triggerCallsIfPossible()},i.prototype.addProperties=function(e){this.globalProperties=a(this.globalProperties,e),this.console.info("properties: ",this.globalProperties)},i.prototype.generateHttpQuery=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&"object"!=typeof e[t]?n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t])):"object"==typeof e[t]&&"object"==typeof JSON&&n.push(encodeURIComponent(t)+"=jso-"+encodeURIComponent(JSON.stringify(e[t])));return n.join("&")},i.prototype.panic=function(e){this.console.info("switching to panic mode ! reason:",e),this.panicMode=!0,this.panicReason=e,this.triggerCallsIfPossible()},i.prototype.onFinish=function(e,t){this.finishedCallbackFunction=e,this.setWatchDog(t)},i.prototype.beacon=function(e){navigator.sendBeacon(e)},i.prototype.pageQuit=function(){if(!this.disabled){for(this.console.log("page is unloading"),this.console.log("send call queue with navigator.beacon ("+this.errorEvents.length+" events)");this.errorEvents.length;)this.beacon(this.errorEvents.shift());0<this.eventsRunning&&this.push("$quit_while_running",void 0),this.sendCallQueue(this.beacon,{$error:"page_quit"})}},n=i;function i(e,t,n,o,i,r,s){var a=this;this.callQueue=[],this.disabled=!1,this.setWatchDog=function(e){a.console.info("setup watchdog timer to ",e),a.clearWatchDog(),a.watchDog=setTimeout(function(){a.panic("$count_down_1")},e)},this.context=e,this.console=(0,c.Console)("EventPusher-"+e,r.debug),this.console.info("new EventPusher()"),this.callQueue=[],this.currentPage=n,this.transportFunction=r.overrideTransport,this.cookieMatcher=o,this.userPoint=i,this.tagStart=t,this.globalProperties={},this.eventsRunning=0,this.eventsSent=0,this.endPointUrl=r.endPointUrl,this.panicMode=!1,this.errorEvents=[],this.options=r,this.userIdentifierHolder=s}t.EventPusher=n},5178:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(n,t){function o(e){try{r(c.next(e))}catch(e){t(e)}}function i(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,i)}r((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,o){var i,r,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=e(0),c.throw=e(1),c.return=e(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;c&&t[c=0]&&(a=0),a;)try{if(i=1,r&&(s=2&t[0]?r.return:t[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,t[1])).done)return s;switch(r=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,r=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(n,a)}catch(e){t=[6,e],r=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalFeedProcessor=void 0;var u=n(2461),l=n(5098),r=n(1296),s=n(2849),c=n(9124),d="_mediarithmics";Object.defineProperty(p.prototype,"contextualizedName",{get:function(){return"ExternalFeedProcessor-"+this.context},enumerable:!1,configurable:!0}),p.prototype.setFeedsCallback=function(e){this.feedsCallback=e},p.prototype.observerName=function(){return this.contextualizedName},p.prototype.getStore=function(){var e=window.sessionStorage.getItem(d);if(!e)return{};try{var t=JSON.parse(e);return this.console.log("Found existing store ".concat(JSON.stringify(t))),t}catch(e){return this.console.error("Cannot parse external feed processor store"),{}}},p.prototype.upsertStore=function(e,t){var n=this.getStore(),o=i(i({},n),((o={})[this.siteToken]=i(i({},n[this.siteToken]&&i({},n[this.siteToken])),((n={})[btoa(e.toString())]={ts:Date.now(),scriptsLength:t.scripts.length},n)),o));this.console.log("Upserting store with ".concat(JSON.stringify(o))),window.sessionStorage.setItem(d,JSON.stringify(o))},p.prototype.hasBeenProcessed=function(e){var t=this.getStore(),n=btoa(e.toString()),n=!(!t[this.siteToken]||!t[this.siteToken][n]);return this.console.log("hasBeenProcessed(".concat(JSON.stringify(e),") = ").concat(n)),n},p.prototype.onNewIdentifier=function(e){return this.console.log("New identifier detected ".concat(JSON.stringify(e))),this.process({identifiers:[e]})},p.prototype.onRemovedIdentifier=function(e){},p.prototype.mapToQueryParameter=function(e){if((0,r.isIUserAccountIdentifierJson)(e)){var t=[{key:"$cuid",value:e.$user_account_id}];return e.$compartment_token&&t.push({key:"$comp_token",value:e.$compartment_token}),t}if((0,s.isIUserEmailIdentifierJson)(e))return[{key:"$email_hash",value:e.$email_hash}];if((0,c.isIUserAgentIdentifierJson)(e))return[{key:"$uaid",value:e.$user_agent_id}];throw new Error("unsupported identifier")},p.prototype.applyScript=function(e){switch(e.type){case"INLINE":(t=document.createElement("script")).textContent=e.inner,document.head.appendChild(t);break;case"SRC":(t=document.createElement("script")).src=e.source,document.head.appendChild(t);break;case"IMG":var t;(t=document.createElement("img")).style.display="none",t.style.width=t.style.height="0px",t.src=e.source,document.head.appendChild(t);break;default:this.console.warn("Unsupported script type ".concat(e.type))}},p.prototype.parseExternalFeeds=function(t){var e,n={feeds:[],scripts:[]};try{var o=JSON.parse(t);e=o,Array.isArray(e.scripts)&&Array.isArray(e.feeds)&&(n=o)}catch(e){throw this.console.error("Cannot parse ".concat(t," as valid external feeds")),e}return n},p.prototype.process=function(n){return o(this,void 0,void 0,function(){var t=this;return a(this,function(e){return 0===n.identifiers.length?(this.console.log("No identifier to process"),[2,Promise.resolve(!1)]):(this.console.log("Processing external feeds for identifiers : ".concat(JSON.stringify(n.identifiers))),[2,n.identifiers.reduce(function(r,s){return o(t,void 0,void 0,function(){var t,n,o,i=this;return a(this,function(e){switch(e.label){case 0:return[4,r];case 1:if(n=e.sent(),this.hasBeenProcessed(s)||n)return[3,6];t=new URL(this.externalFeedsUrl),this.mapToQueryParameter(s).forEach(function(e){return t.searchParams.set(e.key,e.value)}),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.httpGetClient(t.toString())];case 3:return o=e.sent(),n=this.parseExternalFeeds(o),this.console.log("Found external feeds for identifier ".concat(s.toString()," : ").concat(JSON.stringify(n))),n.scripts.forEach(function(e){return i.applyScript(e)}),this.upsertStore(s,n),(o=0<n.scripts.length)&&this.feedsCallback(n.feeds),[2,o];case 4:return o=e.sent(),this.console.error("Something went wrong with this call ".concat(t),o),this.feedsCallback(o),[2,!1];case 5:return[3,7];case 6:return[2,Promise.resolve(!1)];case 7:return[2]}})})},Promise.resolve(!1))])})})},p.prototype.reset=function(){window.sessionStorage.removeItem(d)},n=p;function p(e){var t=e.context,n=e.siteToken,o=e.externalFeedsUrl,i=e.feedsCallback,r=e.debug,s=e.overrideHttpGetClient,a=e.overrideConsole,c=e.overrideTransport;this.httpGetClient=l.makeXMLHttpRequestPromise,this.context=t,this.siteToken=n,this.externalFeedsUrl=o,this.feedsCallback=i||function(){},this.console=a||(0,u.Console)(this.contextualizedName,!!r),s&&c?this.httpGetClient=function(e){return c(e),s(e)}:c?this.httpGetClient=function(e){return c(e),(0,l.makeXMLHttpRequestPromise)(e)}:s&&(this.httpGetClient=s)}t.ExternalFeedProcessor=n},971:function(e,t){"use strict";var n=this&&this.__rest||function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.mics=void 0,t.durationFromSnippetStart=function(e){return e&&r&&e-r._startTime};var o,i=window.scimhtiraidem;if(!(i=!window.scimhtiraidem&&window.mics&&void 0!==window.mics._snippetVersion?{_queue:{mics:(o=window.mics)._queue},_names:["mics"],_snippetVersion:o._snippetVersion,_startTime:o._startTime,mics:n(o,["_queue","_snippetVersion","_startTime"])}:i))throw new Error("mics is not defined. Did you used the provided snippet ?");var r=i;t.mics=r,window.scimhtiraidem=r},8902:function(e,n,t){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(n,t){function o(e){try{r(c.next(e))}catch(e){t(e)}}function i(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,i)}r((c=c.apply(e,s||[])).next())})},r=this&&this.__generator||function(n,o){var i,r,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=e(0),c.throw=e(1),c.return=e(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;c&&t[c=0]&&(a=0),a;)try{if(i=1,r&&(s=2&t[0]?r.return:t[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,t[1])).done)return s;switch(r=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,r=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(n,a)}catch(e){t=[6,e],r=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Id5ExpirationKey=n.ID5_REGISTRY_KEY=n.ID5_CONFIG_OVERRIDE_STORAGE_KEY=n.MICS_PARTNER_ID=n.ID5_CDN_URL=void 0;var s=t(5098),a=t(2461),c=t(6701);n.ID5_CDN_URL="https://cdn.id5-sync.com/api/1.0/id5-api.js",n.MICS_PARTNER_ID=18,n.ID5_CONFIG_OVERRIDE_STORAGE_KEY="mics_id5_config_override",n.ID5_REGISTRY_KEY=4,n.Id5ExpirationKey="id5id_exp";u.prototype.loadId5ApiJs=function(){return i(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(this.id5Api)];case 1:if(e.sent())return[3,5];e.label=2;case 2:return e.trys.push([2,4,,5]),[4,(0,s.loadScriptAsync)(n.ID5_CDN_URL)];case 3:return e.sent(),this.console.info("Loaded ".concat(n.ID5_CDN_URL)),this.id5Api=window.ID5,[3,5];case 4:return t=e.sent(),this.console.error("Could not load ID5 API",t),[3,5];case 5:return this.id5Api&&this.id5Api.loaded!==this.id5ApiLoadedAndReady&&(this.console.info("ID5.loaded=".concat(this.id5Api.loaded)),this.id5ApiLoadedAndReady=this.id5Api.loaded),[2]}})})},u.prototype.getID5ConfigOverride=function(){var t=this.cache.get(n.ID5_CONFIG_OVERRIDE_STORAGE_KEY);if(t)try{var e=JSON.parse(t);return this.console.log("ID5 config override found : ".concat(JSON.stringify(t))),e}catch(e){this.console.error("Cannot parse ID5 config override : ".concat(t))}return{}},u.prototype.initializeApi=function(){var e,t=this;!this.id5Status&&this.id5Api&&this.id5ApiLoadedAndReady&&(e=o(o({partnerId:n.MICS_PARTNER_ID},this.initialId5ApiConfig||{}),this.getID5ConfigOverride()),this.console.info("Initialize ID5 Api with config ".concat(JSON.stringify(e))),this.id5Api.debug=this.debug,this.id5Status=this.id5Api.init(e).onUpdate(function(e){t.console.log("ID5 ID updated callback",e),t.setId5UniversalId(e.getUserId())}),this.id5Status||this.console.warn("ID5 Api not initialized"))},u.prototype.setId5UniversalId=function(e){e&&"0"!==e&&(this.console.info("Setting ID5 Id = ".concat(e)),this.id5UniversalId=e,e="net:".concat(n.ID5_REGISTRY_KEY,":").concat(e),this.userIdentifierHolder.addUserAgentIdentifier(e,this.getId5ExpirationTs()))},u.prototype.getId5ExpirationTs=function(){var e=localStorage.getItem(n.Id5ExpirationKey);return e?Date.parse(e):(new Date).getTime()+7776e6},u.prototype.startGathering=function(){return i(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return this.console.info("Start gathering ID5 Id"),[4,this.loadId5ApiJs()];case 1:return e.sent(),this.initializeApi(),[2]}})})},t=u;function u(e){this.id5ApiLoadedAndReady=!1;var t=e.context,n=e.userIdentifierHolder,o=e.debug,e=e.initialId5ApiConfig;this.debug=o,this.userIdentifierHolder=n,this.console=(0,a.Console)("ID5IdGatherer-".concat(t),o),this.initialId5ApiConfig=e,this.cache=new c.Cache(o),this.id5Api=window.ID5,this.startGathering()}n.default=t},5098:(e,t)=>{"use strict";function o(t,n){var e=document.createElement("img");e.style.display="none",e.style.width=e.style.height="0px",n&&(e.onload=function(){n(void 0,t)},e.onerror=function(){var e=new Error("error while loading "+t);n(e,t)}),e.setAttribute("src",t)}function i(t,n){var e,o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",t),o.setAttribute("async","true"),n&&(o.onload=function(){n(void 0,t)},o.onerror=function(){var e=new Error("error while loading "+t);n(e,void 0)}),null!==(e=document.getElementsByTagName("script")[0].parentNode)&&void 0!==e&&e.appendChild(o)}function r(t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){var e;4===o.readyState&&(200===o.status?n(void 0,o.responseText):(e=new Error("error while GETting: "+t),n(e,void 0)))},o.open("GET",t,!0),o.withCredentials=!0,o.send(null)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadPixel=o,t.loadScript=i,t.loadScriptAsync=function(e){return new Promise(function(n,o){i(e,function(e,t){e&&o(e),n()})})},t.makeXMLHttpRequest=r,t.makeXMLHttpRequestPromise=function(e){return new Promise(function(n,o){r(e,function(e,t){t?n(t):o(e||new Error("An unexpected error occurred"))})})},t.sendWithBeaconOrWithLoadPixel=function(e,t){if(!navigator.sendBeacon)return o(e,t);{var n;navigator.sendBeacon(e)?t(void 0,e):(n=new Error("Error while calling "+e+"with sendBeacon()"),t(n,e))}}},9440:(e,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.segmentEvaluationCache=void 0,l.processSegmentEvaluation=function(e){var t=e.onComplete,n=e.userPointData,o=e.segment_definition,i=e.segment_evaluator;{var r,s,a,c,u;o&&i?(r=[],s=Object.keys(o),a=function(e,t){return"".concat(t?t.generateCacheKey():0,"-").concat(e.length)}(s,n),l.segmentEvaluationCache.has(a)?t&&t(l.segmentEvaluationCache.get(a)||[]):(c=0,(u=function(){var e=c+10;s.slice(c,c+10).forEach(function(e){n&&o[e]&&i(n,o[e])&&r.push(e)}),e<s.length?(c=e,setTimeout(u,0)):(l.segmentEvaluationCache.set(a,r),t&&t(r))})())):t&&t()}},l.segmentEvaluationCache=new Map},7238:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(n,t){function o(e){try{r(c.next(e))}catch(e){t(e)}}function i(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,i)}r((c=c.apply(e,s||[])).next())})},s=this&&this.__generator||function(n,o){var i,r,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=e(0),c.throw=e(1),c.return=e(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;c&&t[c=0]&&(a=0),a;)try{if(i=1,r&&(s=2&t[0]?r.return:t[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,t[1])).done)return s;switch(r=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,r=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(n,a)}catch(e){t=[6,e],r=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TagObject=void 0;var a=n(6701),c=n(517),u=n(2461),l=n(4471),d=n(5098),p=n(8146),h=n(971),f=n(8713),g=n(2228),v=o(n(2205)),_=o(n(8902)),y=o(n(4951)),m=n(9124),b=n(5178),E=o(n(7089)),I=n(9440);function C(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var n="https://cookie-matching.mediarithmics.com",S="mics_user_consent",O="mics_consent_ts",w="mics_",P=["VISIT","TOUCH"],A=(new Date).getTime(),T={domain_id:1,cookie_matching_url:n+"/v1/getids",gather_operator_id_url:n+"/v1/gather_id",get_id_path:"/v1/get_id",external_feeds_path:"/external_feeds",domain_name:"events.mediarithmics.com",protocol:"https://",events_path:"/v1/visits/pixel",config_server_path:"/v1/conf.js",cookie_max_age_in_days:180,cookie_refresh_in_days:10,local_cookie_name:void 0,gather_id_timeout_ms:2e3,global_timeout_ms:3e3,debug:!1,mode:"VISIT",initialized:!1},n=(D.prototype.fetchConfig=function(){var e="";this.options.site_token?e="?$site_token="+this.options.site_token+"&cb="+Date.now():this.options.datamart_token&&(e="?$dat_token="+this.options.datamart_token+"&cb="+Date.now());e=this.options.protocol+this.options.domain_name+this.options.config_server_path+e;this.options.confjs_mock_params&&(e=e+"&"+this.options.confjs_mock_params),(0,d.loadScript)(e)},D.prototype.fetchScriptFromUri=function(e){(0,d.loadScript)(this.options.protocol+this.options.domain_name+e)},D.prototype.fetchScriptFromUrl=function(e){(0,d.loadScript)(e)},D.prototype.addPixel=function(e){e=this.options.protocol+this.options.domain_name+e;this.console.debug("Will load pixelUrl ".concat(e)),this.options.override_transport?this.options.override_transport(e):(0,d.loadPixel)(e)},D.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=Array.prototype.slice.apply(t).splice(0);this.callMicsMethod(e,o)},D.prototype.callMicsMethod=function(e,t){["init","call","config","push","pushDefault","addIdentifier","addProperties","addProperty","onFinish","onStart","_reset","syncFeeds"].includes(e)?this[e].apply(this,t):this.console.error("The method '"+e+"' is not supported.")},D.prototype.onStart=function(e){e&&e.apply()},D.prototype.setOperatorId=function(e,t){this.cookieMatcher&&this.cookieMatcher.setOperatorId(e,t)},D.prototype.computeExpirationDateFromLatestUpdateOfUserChoice=function(e,t){var t=t?this.cookieMatcher:this.currentPage,t=null!==(t=null===(t=null==t?void 0:t.UserChoiceHandler)||void 0===t?void 0:t.getLatestUpdated())&&void 0!==t?t:new Date;return new Date(t.getTime()+24*Math.min(180,e)*60*60*1e3)},D.prototype.getParamOrElse=function(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:n},D.prototype.getTagConfigOverride=function(){var t=this.cache.get("mics_tag_config_override");if(t)try{var e=JSON.parse(t);return this.console.log("Tag Config override found : ".concat(JSON.stringify(e))),e}catch(e){this.console.error("Cannot parse tag config override : ".concat(t))}return{}},D.prototype.getTagOptionsOverride=function(){var t=this.cache.get("mics_tag_options_override");if(t)try{var e=JSON.parse(t);return this.console.log("Tag options override found : ".concat(JSON.stringify(e))),e}catch(e){this.console.error("Cannot parse tag options override : ".concat(t))}return{}},D.prototype.setConfig=function(e){var t,n,o=this;this.options.initialized?(void 0!==this.options.site_token&&e.site_token===this.options.site_token||void 0!==this.options.datamart_token&&e.dat_token===this.options.datamart_token?(this.console.info("Applying config for site token ".concat(this.options.site_token)),n=i(i({},e),this.getTagConfigOverride()),this.currentPage&&(this.console.info("setConfig",n),n.audience_feeds_refresh_period&&this.addProperties({$audience_feeds_refresh_period:n.audience_feeds_refresh_period}),this.enableMumId=this.getParamOrElse(n,"enable_mum_id",!0),this.currentPage.micsCookieDomain=this.getParamOrElse(n,"mics_cookie_domain",void 0),this.currentPage.micsCookieDomainCreationTs=this.getParamOrElse(n,"mics_cookie_domain_creation_ts",void 0),this.currentPage.readPage(),this.enable_local_segment_evaluation=this.getParamOrElse(n,"enable_local_segment_evaluation",!1),this.deviceIdRegistryTokenToIdMap=this.getParamOrElse(n,"device_id_registry_token_to_id_map",{}),this.datatypeTextFieldPaths=this.getParamOrElse(n,"datatype_text_field_paths",[]),this.namespace=n.namespace||"",this.segment_evaluator_uri=n.segment_evaluator_uri||"",this.segment_evaluator_url=n.segment_evaluator_url||"",this.segment_definition_url=n.segment_definition_url||"",this.segment_definition_uri=n.segment_definition_uri||"",this.enableGOOMatching=this.enableMumId&&this.getParamOrElse(n,"enable_goo_matching",!0),this.enableAPXMatching=this.enableMumId&&this.getParamOrElse(n,"enable_apx_matching",!0),this.enableTcfForCookieMatching=this.getParamOrElse(n,"enable_tcf_v2_for_cookie_matching",!1),this.enableTcfForCookieMatching&&this.eventPusher&&this.eventPusher.setWatchDog(this.options.global_timeout_ms+2e3),this.cmpIds=this.getParamOrElse(n,"cmp_ids",[]),null!==(t=this.cookieMatcher)&&void 0!==t&&t.enableTcfForCookieMatching(this.enableTcfForCookieMatching,this.getUserChoiceParams()),this.enableID5=this.getParamOrElse(n,"enable_id5",!1),this.enableID5&&(this.eventPusher?this.id5IdGatherer=new _.default({context:this.context,userIdentifierHolder:this.userIdentifierHolder,debug:this.debug,initialId5ApiConfig:this.getParamOrElse(n,"id5-init-config-override",{})}):this.console.warn("enable_id5 is true but eventPusher is null, cannot start id5 gathering")),this.enableMumId?this.onUserChoiceGiven(["mics"],[],function(){o.fetchUAID()},function(){var e;null!==(e=o.currentPage)&&void 0!==e&&e.clearUAID(),o.set=!1}):this.fetchUAID(),this.enable_local_segment_evaluation&&(this.userpoint=new f.UserPoint(function(e,t){o.addPixel("/v1/edge/pixel?%24site_token="+o.options.site_token+"&%24seg_ids="+encodeURIComponent(e.join(","))+"&%24o=a&%24uaid="+encodeURIComponent(t))},function(e,t){o.addPixel("/v1/edge/pixel?%24site_token="+o.options.site_token+"&%24seg_ids="+encodeURIComponent(e.join(","))+"&%24o=d&%24uaid="+encodeURIComponent(t))},function(){o.enable_local_segment_evaluation&&o.userpoint&&o.computeSegments()},this.options.debug,this.namespace,this.context,this.deviceIdRegistryTokenToIdMap,this.datatypeTextFieldPaths),this.userpoint.setAgentTechnicalIdentifiers(this.userIdentifierHolder.userIdentifiers()),this.userIdentifierHolder.subscribe(this.userpoint),this.eventPusher&&this.eventPusher.setUserpoint(this.userpoint),this.fetchScriptFromUri("/v1/device_info.js"),this.segment_evaluator_uri?this.fetchScriptFromUri(this.segment_evaluator_uri):this.segment_evaluator_url&&this.fetchScriptFromUrl(this.segment_evaluator_url),this.segment_definition_uri?this.fetchScriptFromUri(this.segment_definition_uri):this.segment_definition_url&&this.fetchScriptFromUrl(this.segment_definition_url)))):this.console.debug("Will not apply config ".concat(JSON.stringify(e)," for this site token ").concat(this.options.site_token)),this.configured=!0):this.console.warn("Cannot apply setConfig before init was called")},D.prototype.markConfigAsLoaded=function(){var e;this.console.debug("markConfigAsLoaded"),null!==(e=this.currentPage)&&void 0!==e&&e.markConfigAsLoaded(),null!==(e=this.eventPusher)&&void 0!==e&&e.triggerCallsIfPossible()},D.prototype.markDeactivatedConfig=function(){var e;this.console.error("[mediarithmics] The site token you are using is not recognized. Please check your configuration or remove the script from your website."),null!==(e=this.eventPusher)&&void 0!==e&&e.disable(),null!==(e=this.cookieMatcher)&&void 0!==e&&e.disable(),null!==(e=this.userpoint)&&void 0!==e&&e.reset(),this.computeSegments=function(){}},D.prototype.loadNetworkIdApiJs=function(n,o,i){return r(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return[4,o];case 1:if(!e.sent())try{return[2,(0,d.loadScriptAsync)(i).then(function(){return t.console.info("Loaded ".concat(i))})]}catch(e){return this.console.error("Could not load ".concat(n," API"),e),[2,Promise.reject()]}return[2]}})})},D.prototype.setEvaluator=function(e){this.console.info("Setting Segment Evaluator"),"function"==typeof e&&(this.segment_evaluator=e),this.computeSegments()},D.prototype.setSegmentDefinition=function(e){this.console.info("Setting Segment Definition"),this.segment_definition=e.map,this.computeSegments()},D.prototype.setDeviceInfo=function(e){this.console.info("Setting Device Info "+JSON.stringify(e)),this.userpoint&&(this.userpoint.setAgentUserAgentInfo(e),this.computeSegments())},D.prototype.getConsentDate=function(e){var t=new Date,n=new Date(e),e=n.getTime();return 0<e&&e<t.getTime()?n:t},D.prototype.declareAdvertisingCookieConsent=function(e){var t=this,n=this.getConsentDate(e),o=24*this.options.cookie_max_age_in_days*60*60*1e3;this.cache.store(S,"true"),this.cache.store(O,n.getTime().toString());o=new Date(n.getTime()+o);this.configured&&this.currentPage?(0,g.updateCookiesExpiration)(w,o.toUTCString(),!1,this.currentPage.micsCookieDomain):setTimeout(function(){t.declareAdvertisingCookieConsent(e)},2e3)},D.prototype.revokeAdvertisingCookieConsent=function(){this.cache.store(S,"false"),this.cache.remove(O),(0,g.deleteCookiesStartingWith)(w)},D.prototype.deleteAdvertisingCookie=function(e){(0,g.deleteCookie)("_"+e)},D.prototype.deleteCookie=function(e){(0,g.deleteCookie)(e)},D.prototype._setUAID=function(e,t,n,o){this.currentPage&&this.enableMumId&&(t&&!this.set&&(this.set=!0,this.currentPage.updateUAID(t,n,o)),this.eventPusher&&this.eventPusher.triggerCallsIfPossible())},D.prototype.upsertAdvertisingCookie=function(e,t,n,o,i,r){var s=new Date;o?s.setTime(o):s.setTime(s.getTime()+864e5*this.options.cookie_max_age_in_days);var a=w+t,n=null!==(o=(0,g.readCookie)(a))&&void 0!==o?o:n,t="mum"===e||"vec"===e?void 0:t;this.userIdentifierHolder.addUserAgentIdentifier("".concat(e,":").concat(null!==(t=null==t?void 0:t.concat(":"))&&void 0!==t?t:"").concat(n),s.getTime(),r);n=encodeURIComponent(n);document.cookie="".concat(a,"=").concat(n,";expires=").concat(s.toUTCString(),";path=/").concat(i?";domain=".concat(i):"")},D.prototype.validateMode=function(e){if(!e||!P.includes(e))throw new Error("".concat(this.context,".init : invalid mode (").concat(e,")"))},D.prototype.init=function(e){if(this.options.initialized)this.console.warn(this.context+" was already initialized, stop initialization");else{var t=this.initializeTagOptions(e);this.console.info("mcsObj.config, new configuration is",t);var n=null,e=null;if("VISIT"===(this.options=t).mode?(n="/v1/visits/pixel",e=this.globalProperties.$site_token=t.site_token):"TOUCH"===t.mode&&(n="/v1/touches/pixel",e=this.globalProperties.$dat_token=t.datamart_token),"string"!=typeof e)throw new Error(this.context+".init : the token must be a string");if(0===e.length)throw new Error(this.context+".init : the token must be a non-empty string");"VISIT"===t.mode&&(this.externalFeedProcessor=new b.ExternalFeedProcessor({context:this.context,siteToken:e,externalFeedsUrl:"".concat(this.options.protocol,"/").concat(this.options.domain_name,"/v1/sites/").concat(e).concat(this.options.external_feeds_path),debug:this.debug,overrideTransport:t.override_transport}),this.userIdentifierHolder.subscribe(new E.default(this.context,e))),this.options.initialized=!0,this.currentPage=new l.CurrentPage(t,this.userIdentifierHolder,this.upsertAdvertisingCookie,this.context,this.debug),this.fetchConfig(),this.currentPage.setParams(this.getUserChoiceParams()),this.cookieMatcher=new c.CookieMatcher(t,this.context),void 0!==this.enableTcfForCookieMatching&&(this.cookieMatcher.enableTcfForCookieMatching(this.enableTcfForCookieMatching,this.getUserChoiceParams()),this.enableMumId&&!this.enableTcfForCookieMatching&&this.fetchUAID()),this.currentPage.readPage();n={endPointUrl:t.protocol+t.domain_name+n,debug:t.debug,overrideTransport:t.override_transport};this.eventPusher=new p.EventPusher(this.context,A,this.currentPage,this.cookieMatcher,this.userpoint,n,this.userIdentifierHolder),this.eventPusher.addProperties(this.globalProperties),this.eventPusher.setWatchDog(t.global_timeout_ms),this.userIdentifierHolder.subscribe(this.eventPusher),this.cookieMatcher.panicCallback(this.eventPusher.panic.bind(this.eventPusher)),this.addProperty("$tv","2.0.20250213-build-188-rev-597a114")}},D.prototype.pageQuit=function(){this.eventPusher&&this.eventPusher.pageQuit()},D.prototype.onFinish=function(e,t){this.eventPusher&&this.eventPusher.onFinish(e,t)},D.prototype.pushDefault=function(){this.push("$page_view")},D.prototype.push=function(e,t){if(!this.eventPusher)throw new Error(this.context+" is not initialized, call "+this.context+".init(YOUR_TOKEN) first !");this.eventPusher.push(e,t)},D.prototype.addProperty=function(e,t){var n;this.console.debug("addProperty",e,t),"$user_account_id"===e?this.userIdentifierHolder.legacyUserAccountId=t:"$comp_token"===e?this.userIdentifierHolder.legacyCompartmentToken=t:"$email_hash"===e?this.userIdentifierHolder.legacyEmailHash=t:"$email"===e?this.userIdentifierHolder.legacyEmail=t:this.addProperties(((n={})[e]=t,n))},D.prototype.addProperties=function(e){this.console.debug("addProperties",e),this.eventPusher?this.eventPusher.addProperties(e):this.globalProperties=(0,v.default)(this.globalProperties,e)},D.prototype.addIdentifier=function(e,t){this.console.debug("addIdentifier(".concat(e,", ").concat(JSON.stringify(t),")"));try{if("USER_ACCOUNT"!=e&&"USER_EMAIL"!=e&&!function(e,t){if("USER_AGENT"==e)try{return(new m.UserAgentIdentifierJsonFactory).fromObjectUnsafe(null!==t&&"string"==typeof t?JSON.parse(t):t).isClientRegistry()}catch(e){return}}(e,t))throw new Error("Unsupported identifier type ".concat(e,", valid types are \"USER_ACCOUNT\" and \"USER_EMAIL\" and \"USER_AGENT\" if the agent id starts with 'mov:', 'mob:', 'tv:', 'dev:', or 'net:'"));this._addIdentifier(e,t)}catch(e){this.console.error(e)}},D.prototype.lodDebug=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.console).debug.apply(e,t)},D.prototype.addAllowedRegistry=function(e){this.userIdentifierHolder.addAllowedRegistry(e)},D.prototype._addIdentifier=function(e,t){try{var n=null!==t&&"string"==typeof t?t:JSON.stringify(t);this.userIdentifierHolder.addIdentifierUnsafe(e,n)}catch(e){this.console.error(e)}},Object.defineProperty(D.prototype,"vid",{get:function(){return this.userIdentifierHolder.findVectorIdLongValue()},enumerable:!1,configurable:!0}),D.prototype._reset=function(){var e;this.console.info("reset ",this.context),null!==(e=this.userpoint)&&void 0!==e&&e.reset(),null!==(e=this.externalFeedProcessor)&&void 0!==e&&e.reset(),this.set=!1,this.configured=!1,this.options=(0,v.default)({debug:this.options.debug},T),this.globalProperties={$sv:h.mics._snippetVersion},this.cookieMatcher=void 0,this.eventPusher=void 0,this.id5IdGatherer=void 0,this.currentPage=void 0,this.userpoint=void 0,this.userIdentifierHolder=new y.default(this.context,this.debug),this.enableGOOMatching=void 0,(this.enableAPXMatching=void 0,g.deleteCookiesStartingWith)(w),window.sessionStorage.clear()},D.prototype.config=function(e){return this.options=(0,v.default)(this.options,e=e||{}),e.cookie_matching_url?this.console.info("overriding cookie_matching_url with ",e.cookie_matching_url):e.domain_name&&(this.options.cookie_matching_url=this.options.protocol+this.options.domain_name+this.options.get_id_path,this.console.info("using custom domain, cookie_matching_url will be ",this.options.cookie_matching_url)),e.external_feeds_path&&this.console.info("overriding external_feeds_path with ",e.external_feeds_path),this.console.info("mcsObj.config, new configuration is",this.options),this.options},D.prototype.syncFeeds=function(e){var t=this;this.externalFeedProcessor&&(e&&this.externalFeedProcessor.setFeedsCallback(e),this.externalFeedProcessor.process({identifiers:this.userIdentifierHolder.userIdentifiers()}).then(function(){t.userIdentifierHolder.subscribe(t.externalFeedProcessor)}))},D);function D(e,t){var s=this;this.set=!1,this.configured=!1,this.enableID5=!1,this.enableMumId=!0,this.deviceIdRegistryTokenToIdMap={},this.fetchUAID=function(){var e,t,n,o,i,r;s.currentPage&&(e=s.currentPage.getCookie(),t=s.currentPage.getVid(),n=s.currentPage.getLts(),(o=new Date).setTime(o.getTime()-24*s.options.cookie_refresh_in_days*60*60*1e3),s.cookieMatcher&&(i=[],!0===s.enableGOOMatching&&i.push("goo"),!0===s.enableAPXMatching&&i.push("apx"),s.cookieMatcher.setOperators(i)),r=void 0,s.enable_local_segment_evaluation&&s.userpoint&&(r=null===(i=s.userpoint)||void 0===i?void 0:i.getAgentId()),t&&n&&(n>o.getTime()||r)?(r=s.computeExpirationDateFromLatestUpdateOfUserChoice(s.options.cookie_max_age_in_days,!0),s._setUAID(e,t,n,r.getTime())):s.cookieMatcher&&s.cookieMatcher.gatherOperatorsIds())},this.onUserChoiceGiven=function(t,n,o,i){var r=setInterval(function(){var e;void 0!==(null===(e=s.cookieMatcher)||void 0===e?void 0:e.UserChoiceHandler)&&(s.cookieMatcher.UserChoiceHandler.onUserChoiceGiven(t,n,o,i),clearInterval(r))},1)},this.computeSegments=function(){var e,n=performance.now(),o=s.segment_definition?Object.keys(s.segment_definition).length:0;s.console.info("Starting evaluation of ".concat(o," segments")),(0,I.processSegmentEvaluation)({userPointData:null===(e=s.userpoint)||void 0===e?void 0:e.getUserPointData(),segment_definition:s.segment_definition,segment_evaluator:s.segment_evaluator,onComplete:function(e){var t;void 0!==e&&null!==(t=s.userpoint)&&void 0!==t&&t.setSegments(e);e=performance.now();s.console.info("Evaluation of ".concat(o," segments took ").concat(e-n,"ms"))}})},this.initializeTagOptions=function(e){var t;if(void 0===e)throw new Error(s.context+".init : use a token string or an object");return"string"==typeof e?t=C(s.options,{mode:"VISIT",site_token:e,domain_name:s.options.domain_name}):(s.validateMode(e.mode),t=C(s.options,e),e.cookie_matching_url?s.console.info("overriding cookie_matching_url with ",t.cookie_matching_url):e.domain_name&&(t.cookie_matching_url=t.protocol+t.domain_name+t.get_id_path,s.console.info("using custom domain, cookie_matching_url will be ",t.cookie_matching_url)),e.external_feeds_path&&s.console.info("overriding external_feeds_path with ",e.external_feeds_path)),i(i({},t),s.getTagOptionsOverride())},this.getUserChoiceParams=function(){var e;return{cmpIds:null!==(e=s.cmpIds)&&void 0!==e?e:[]}},this.context=e,this.namespace="",this.debug=t,this.console=(0,u.Console)(e,t),this.cache=new a.Cache(t),this.enable_local_segment_evaluation=!1,this.datatypeTextFieldPaths=[],this.context=e,this.options=(0,v.default)(T,{debug:t}),this.globalProperties={$sv:h.mics._snippetVersion},this.get=d.makeXMLHttpRequest,this.userIdentifierHolder=new y.default(e,t),this.id5IdGatherer=void 0,this.console.info("Creating tag object, globalProperties: ".concat(JSON.stringify(this.globalProperties)))}t.TagObject=n},8713:function(e,h,t){"use strict";var f=this&&this.__assign||function(){return(f=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0}),h.UserPoint=h.ANALYZED_FIELD_PREFIX=h.MAX_SEGMENT_IDS_PER_OPERATION=h.MAX_EVENTS_FOR_USER_POINT=h.BASE_SEGMENTS_STORAGE_KEY=h.BASE_USERPOINT_STORAGE_KEY=void 0;var u=t(6701),l=t(2461),i=t(9124),d=n(t(9418));h.BASE_USERPOINT_STORAGE_KEY="_mics_up",h.BASE_SEGMENTS_STORAGE_KEY="mics_sgmts",h.MAX_EVENTS_FOR_USER_POINT=200,h.MAX_SEGMENT_IDS_PER_OPERATION=10,h.ANALYZED_FIELD_PREFIX="__";r.prototype.hasAnalyzedFields=function(){return 0<this.eventFieldsToAnalyze.length},r.prototype.refreshAnalyzedFields=function(){var e,t,n=this;this.hasAnalyzedFields()&&this.eventFieldsToAnalyze.length>this.userPointData.analyzedFields.length&&(this.console.log("Refreshing analyzed fields ".concat(JSON.stringify(this.eventFieldsToAnalyze))),e=performance.now(),this.userPointData.events=this.userPointData.events.map(function(e){return n.analyzeEvent(e)}),t=performance.now(),this.userPointData.analyzedFields=this.eventFieldsToAnalyze,this.console.log("Refreshed analyzed fields (took "+(t-e)+"ms)"),this.saveUserpoint())},r.prototype.analyzeEvent=function(e){var t=this.runAnalyzer(e,this.eventFieldsToAnalyze,function(e){return"string"==typeof e?e.split(" "):[]});return this.console.log("Event analysis ".concat(JSON.stringify({orginal:e,analyzed:t}))),t},r.prototype.reset=function(){this.userPointData=new d.default,this.cache.remove(this.namespace+h.BASE_USERPOINT_STORAGE_KEY),this.cache.remove(h.BASE_SEGMENTS_STORAGE_KEY)},r.prototype.getUserPointData=function(){return this.userPointData},r.prototype.saveUserpoint=function(){var e=this.encrypt(this.userPointData);this.cache.store(this.namespace+h.BASE_USERPOINT_STORAGE_KEY,e);var t=this.cache.get(h.BASE_SEGMENTS_STORAGE_KEY),e=this.getSegmentIds()?this.getSegmentIds():[];t&&"object"==typeof t?t[this.namespace]=e:(t={})[this.namespace]=e,this.cache.store(h.BASE_SEGMENTS_STORAGE_KEY,JSON.stringify(t)),this.console.info("Saving UserPoint",this.userPointData)},r.prototype.setAgentUserAgentInfo=function(e){this.console.log("setAgent(".concat(JSON.stringify(e),")")),e&&e.initial_ts&&(e={user_agent_info:e},this.userPointData.agents=[f(f({},this.getAgent()),e)],this.saveUserpoint(),this.onUpdate())},r.prototype.addTechnicalIdentifier=function(e){var t=new Date,n=new Date(t.getFullYear()+1,t.getMonth(),t.getDate()),n={id:e.getAgentId(),creation_ts:t.getTime(),expiration_ts:n.getTime(),last_seen_ts:t.getTime(),type:e.registryType,registry_id:e.getRegistryId(this.deviceIdRegistryTokenToIdMap)},t=this.getAgent(),n={id:e.isVectorId()?e.getAgentId():t?t.id:void 0,creation_date:e.isVectorId()?Date.now():t?t.creation_date:void 0,creation_ts:e.isVectorId()?Date.now():t?t.creation_ts:void 0,user_agent_info:t?t.user_agent_info:void 0,technical_identifiers:t&&t.technical_identifiers&&t.technical_identifiers.length?o(o([],t.technical_identifiers,!0),[n],!1):[n]};this.userPointData.agents[0]=n},r.prototype.setAgentTechnicalIdentifiers=function(e){var t=this;e.filter(function(e){return e instanceof i.UserAgentIdentifierJson}).forEach(function(e){t.addTechnicalIdentifier(e)}),this.saveUserpoint(),this.onUpdate()},r.prototype.onNewIdentifier=function(e){e instanceof i.UserAgentIdentifierJson&&(this.addTechnicalIdentifier(e),this.saveUserpoint(),this.onUpdate())},r.prototype.onRemovedIdentifier=function(e){},r.prototype.observerName=function(){return"UserPoint-"+this.context},r.prototype.getUserAgentInfo=function(){return this.userPointData.agents&&this.userPointData.agents.length&&this.userPointData.agents[0].user_agent_info&&(void 0!==this.userPointData.agents[0].user_agent_info||0<Object.keys(this.userPointData.agents[0].user_agent_info).length)?this.userPointData.agents[0].user_agent_info:void 0},r.prototype.getAgentId=function(){var e=this.getAgent();if(e&&e.id){e=e.id.split(":");return e[e.length-1]}},r.prototype.getAgent=function(){return this.userPointData.agents[0]},r.prototype.getFirstAvailableUserAgentId=function(){var e=this.getAgent();return e&&e.id?e.id:null!=e&&e.technical_identifiers&&0<e.technical_identifiers.length?e.technical_identifiers[0].id:void 0},r.prototype.getVectorId=function(){return this.userPointData.agents&&this.userPointData.agents.length?this.userPointData.agents[0].id:void 0},r.prototype.getSegmentIds=function(){return this.userPointData.segments.map(function(e){return e.id}).map(String)},r.prototype.formatEvent=function(e){return e.name=e.$ev,e.referrer=e.$referrer,e.date=Date.now(),e.url=e.$url,e.site_token=e.$site_token,delete e.$web_domain_token,delete e.$web_domain_id,delete e.$etag_id,delete e.$vector_last_seen,delete e.$tag_version,delete e.$delay,delete e.$error,delete e.$snippet_version,delete e.$check_cookie_drop_param,delete e.$consent_from_tcf_api,delete e.$gdpr_consent,delete e.$gdpr_applies,delete e.$installation_id,Object.assign(e,e.properties)},r.prototype.encrypt=function(e){return e.toJSON()},r.prototype.decrypt=function(e){try{return d.default.fromJSON(e)}catch(e){return this.console.error("Failed to parse userpoint data in localStorage, defaulting to empty userpoint"),new d.default}},t=r;function r(e,t,n,o,i,r,s,a){var p=this;this.deviceIdRegistryTokenToIdMap={},this.eventFieldsToAnalyze=[],this.userPointData=new d.default,this.setSegments=function(e){p.console.log("setSegments(".concat(JSON.stringify(e),")"));var i,n=p.getSegmentIds(),r=e.filter(function(t){return!n.find(function(e){return t===e})}),s=n.filter(function(t){return!e.find(function(e){return t===e})});0!==r.length||0!==s.length?(p.userPointData.segments=e.map(function(e){return{id:e,creation_ts:Date.now(),last_modified_ts:Date.now(),expiration_ts:null}}),p.console.info("New Segments",r,"Removed Segments",s,"segments",e),p.saveUserpoint(),(i=function(e){var t=p.getFirstAvailableUserAgentId();if(t){if(p.console.log("found userAgentId: "+t),0<r.length&&p.onAddition)for(var n=0;n<r.length;n+=h.MAX_SEGMENT_IDS_PER_OPERATION){var o=r.slice(n,n+h.MAX_SEGMENT_IDS_PER_OPERATION);p.onAddition(o,t)}if(0<s.length&&p.onDeletion)for(n=0;n<s.length;n+=h.MAX_SEGMENT_IDS_PER_OPERATION){o=s.slice(n,n+h.MAX_SEGMENT_IDS_PER_OPERATION);p.onDeletion(o,t)}}else 0<e&&(p.console.log("could not find userAgentId. retries left: "+e),setTimeout(i,200,e-1))})(25)):p.console.log("No new addition nor deletion, skipping...")},this.addEvent=function(e){p.console.log("addEvent(".concat(JSON.stringify(e),")"));e=p.formatEvent(e);return p.console.log("formattedEvent: ".concat(JSON.stringify(e))),p.hasAnalyzedFields()&&(e=p.analyzeEvent(e)),p.userPointData.events.unshift(e),p.userPointData.events=p.userPointData.events.slice(0,h.MAX_EVENTS_FOR_USER_POINT),p.saveUserpoint(),p.onUpdate(),e},this.runAnalyzer=function(e,t,u,l){void 0===l&&(l=!1);var d=f({},e);return t.forEach(function(e){for(var t,n=e.split("."),o=d,i=0;i<n.length-1;i++){var r=n[i];if(void 0===o[r]||"object"!=typeof o[r])return void p.console.warn("Invalid path: ".concat(e));o[r]=f({},o[r]),o=o[r]}var s,a=n[n.length-1],c="".concat(h.ANALYZED_FIELD_PREFIX).concat(a);void 0===o[c]||l?(s=u(o[a]),o[c]=s,p.console.log("Field analysis: ".concat(JSON.stringify(((t={})[a]=o[a],t[c]=s,t))))):p.console.warn("The target key '".concat(a,"' already exists. Path: ").concat(e))}),d},this.context=r,this.namespace=i,this.onAddition=e,this.onDeletion=t,this.onUpdate=n,this.deviceIdRegistryTokenToIdMap=s||{},this.eventFieldsToAnalyze=(a||[]).filter(function(e){return e.startsWith("events.")}).map(function(e){return e.replace(/^events\./,"")}),this.userPointData.analyzedFields=this.eventFieldsToAnalyze,this.console=(0,l.Console)("UserPoint-"+r,o),this.cache=new u.Cache(o),this.console.info("Starting UserPoint System"),this.console.info("deviceIdRegistryTokenToIdMap = ".concat(JSON.stringify(s))),this.console.log("eventFieldsToAnalyze = ".concat(JSON.stringify(this.eventFieldsToAnalyze)));s=this.cache.get(this.namespace+h.BASE_USERPOINT_STORAGE_KEY);if(s)try{var c=this.decrypt(s);this.console.log("Existing user point found in localStorage : ".concat(JSON.stringify(c))),this.userPointData=c,this.refreshAnalyzedFields()}catch(e){this.console.error("Failed to parse userpoint data in localStorage")}else this.console.log("No existing user point found in localStorage")}h.UserPoint=t},9418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(o.prototype,"devices",{get:function(){return this.agents},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activity_events",{get:function(){return this.events},enumerable:!1,configurable:!0}),o.prototype.generateCacheKey=function(){return"".concat(this.profiles.length+this.segments.length+this.activities.length+this.events.length+this.emails.length+this.agents.length)},o.prototype.toJSON=function(){return JSON.stringify({profiles:this.profiles,segments:this.segments,activities:this.activities,events:this.events,emails:this.emails,agents:this.agents,analyzedFields:this.analyzedFields})},o.fromJSON=function(e){var t=new o,e=JSON.parse(e);return t.profiles=e.profiles||[],t.segments=e.segments||[],t.activities=e.activities||[],t.events=e.events||[],t.emails=e.emails||[],t.agents=e.agents||[],t.analyzedFields=e.analyzedFields||[],t},o);function o(){this.profiles=[],this.segments=[],this.activities=[],this.events=[],this.emails=[],this.agents=[],this.analyzedFields=[]}t.default=n},7748:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(346);t.default=function(){var e,i=this;function t(){var e;i[s.API_KEY]=null!==(e=window[s.API_KEY])&&void 0!==e?e:i.tcfApiStub,i[s.API_KEY]===i.tcfApiStub?i.timeout=setTimeout(t,100):(i.queue.forEach(function(e){return i[s.API_KEY].apply(i,e)}),i.queue=[])}this.queue=[],this.reset=function(){i.queue=[],i.timeout&&clearTimeout(i.timeout)},this.tcfApiStub=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],o=e[2];n===s.TCFCommand.PING?o({gdprApplies:void 0,cmpLoaded:!1,cmpStatus:"stub",displayStatus:"hidden",apiVersion:"2.2",cmpVersion:void 0,cmpId:void 0,gvlVersion:void 0,tcfPolicyVersion:void 0},!0):i.queue.push(r([],e,!0))},this[s.API_KEY]=null!==(e=window[s.API_KEY])&&void 0!==e?e:this.tcfApiStub,t()}},9842:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.areConsent=function(){return!0},this.getProperties=function(){return{}},this.onUserChoiceGiven=function(e,t,n,o){n(!0)},this.setParams=function(){},this.getLatestUpdated=function(){return new Date}}},4566:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2461),a=n(346),r=o(n(7748)),c=n(3406),n=function(e,t){var s=this;this.tcfApi=new r.default,this.listenerIds=[],this.updateDate=new Date(0),this.reset=function(){s.tcData=void 0,s.previousTcData=void 0,s.listenerIds.forEach(function(e){return s.tcfApi[a.API_KEY]("removeEventListener",2,function(){},e)}),s.listenerIds=[],s.tcfApi.reset()},this.setParams=function(e){s.cmpIds=e.cmpIds},this.getVendorId=function(e){var t={apx:32,xandr:32,mics:184,mediarithmics:184,goo:755,google:755,id5:131};return void 0===t[e]&&s.console.error("Vendor unknown",e),t[e]},this._isConsented=function(e,t,n){return!1===s.applies()||s.isCmpValid(n)&&s.hasPurposesConsent(t,n)&&s.hasVendorsConsent(e,n)},this.isCmpValid=function(e){return void 0===s.cmpIds||0==s.cmpIds.length||0<=s.cmpIds.indexOf(null!==(e=null==e?void 0:e.cmpId)&&void 0!==e?e:-2)},this.areConsent=function(e,t){return s._isConsented(e,t,s.tcData)},this.wasVendorConsent=function(e,t){return s._isConsented(e,t,s.previousTcData)},this.getProperties=function(){var e={};return s.tcData&&(e.gdpr=s.tcData.gdprApplies?"1":"0",s.tcData.tcString&&(e.gdpr_consent=s.tcData.tcString)),e},this.onUserChoiceGiven=function(n,o,i,r){s.tcfApi[a.API_KEY]("addEventListener",2,function(e,t){t&&null!=e&&e.isServiceSpecific&&(void 0!==e.listenerId&&-1===s.listenerIds.indexOf(e.listenerId)&&s.listenerIds.push(e.listenerId),e.eventStatus!==a.EventStatus.TC_LOADED&&e.eventStatus!==a.EventStatus.USER_ACTION_COMPLETE||(s.updateTcData(e),(s.areConsent(n,o)?i:r)(s.wasVendorConsent(n,o))))})},this.getLatestUpdated=function(){var e;return null!==(e=s.tcData)&&void 0!==e&&e.tcString?c.TCString.decode(s.tcData.tcString).lastUpdated:new Date},this.applies=function(){var e;return null===(e=s.tcData)||void 0===e?void 0:e.gdprApplies},this.updateTcDataOnChange=function(e,t){t&&null!=e&&e.isServiceSpecific&&(void 0!==e.listenerId&&-1===s.listenerIds.indexOf(e.listenerId)&&s.listenerIds.push(e.listenerId),t&&e.eventStatus===a.EventStatus.TC_LOADED?(s.console.debug("TCF API successfully loaded."),s.updateTcData(e)):t&&e.eventStatus===a.EventStatus.USER_ACTION_COMPLETE?(s.console.debug("TCF API user action registered."),s.updateTcData(e)):t&&e.eventStatus===a.EventStatus.CMP_UI_SHOWN?s.console.debug("TCF UI shown."):t?s.console.error("Unknown tc event status",e.eventStatus):s.console.warn("TCF API loading failed"))},this.updateTcData=function(e){var t,n=new Date;((null===(t=s.tcData)||void 0===t?void 0:t.tcString)!=e.tcString||100<n.getTime()-s.updateDate.getTime())&&(s.updateDate=n,s.previousTcData=s.tcData,s.tcData=e,s.console.debug("tcData updated",s.previousTcData,s.tcData))},this.hasPurposesConsent=function(e,n){return e.reduce(function(e,t){return e&&s.hasPurposeConsents(t,n)},!0)},this.hasPurposeConsents=function(e,t){t=null==t?void 0:t.purpose.consents;return void 0!==t&&"string"!=typeof t&&t.hasOwnProperty(e)&&t[e]},this.hasVendorsConsent=function(e,n){return e.reduce(function(e,t){return e&&s.getVendorConsent(s.getVendorId(t),n)},!0)},this.getVendorConsent=function(e,t){t=null==t?void 0:t.vendor.consents;return void 0!==t&&"string"!=typeof t&&void 0!==e&&t.hasOwnProperty(e)&&t[e]},this.console=(0,i.Console)(e,t),this.tcfApi[a.API_KEY]("addEventListener",2,this.updateTcDataOnChange)};t.default=n},8118:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(2461),a=n(1296),c=n(2849),u=n(9124),n=n(9506),i=(r=n.UserIdentifierHolderWrapped,i(l,r),l.prototype.reset=function(){this._userIdentifiers=[],this.console.info("Reset user identifiers")},l.prototype.userIdentifiers=function(){return this.legacyUserAccountId&&this.withUserAccountIdentifier(this.legacyUserAccountId,this.legacyCompartmentToken),this.legacyEmailHash&&this.withUserEmailIdentifier(this.legacyEmailHash,this.legacyEmail),this._userIdentifiers},l.prototype.getEventPusherProperties=function(t){return{$uids:this.userIdentifiers().filter(function(e){return!(e instanceof u.UserAgentIdentifierJson)||e.allowedByRegistries(t)}).map(function(e){return e.toQueryObject()})}},l.prototype.withUserAccountIdentifier=function(e,t){return this.withIdentifier(new a.UserAccountIdentifierJson(e,t))},l.prototype.withUserEmailIdentifier=function(e,t){return this.withIdentifier(new c.UserEmailIdentifierJson(e,t))},l.prototype.withUserAgentIdentifier=function(e,t,n,o){try{var i=new u.UserAgentIdentifierJson(e,n);return i.allowedByRegistries(t)?this.withIdentifier(i):(this.console.warn("Discarded agent because registry is nor authorised",i,t),{holder:this})}catch(e){this.console.error(e)}return{holder:this}},l.prototype.findVectorIdLongValue=function(){var e=null===(e=this.userIdentifiers().find(function(e){return e instanceof u.UserAgentIdentifierJson&&e.isVectorId()}))||void 0===e?void 0:e.getAgentId();return null==e?void 0:e.split(":")[1]},l.prototype.withIdentifier=function(t){return this._userIdentifiers.find(function(e){return e.equals(t)})?{holder:this}:(this._userIdentifiers.push(t),this.console.log("New identifier ".concat(JSON.stringify(t)," added to user_identifiers ").concat(JSON.stringify(this.userIdentifiers()))),{holder:this,identifier:t})},l.prototype.withIdentifierUnsafe=function(e,t){this.console.debug("withIdentifierUnsafe(".concat(e,", ").concat(t,")"));e=this.getFactory(e);if(e)try{return this.withIdentifier(e.fromObjectUnsafe(JSON.parse(t)))}catch(e){this.console.error("An unexpected error occurred while calling withIdentifierUnsafe: ".concat(e))}return{holder:this}},l.prototype.getFactory=function(e){var t;return"USER_ACCOUNT"===e?t=new a.UserAccountIdentifierJsonFactory:"USER_EMAIL"===e?t=new c.UserEmailIdentifierJsonFactory:"USER_AGENT"===e?t=new u.UserAgentIdentifierJsonFactory:(t=void 0,this.console.warn("Unhandled identifier type ".concat(e))),t},l);function l(e,t,n){var o=r.call(this)||this;return o._userIdentifiers=[],o.console=(0,s.Console)("ArrayBasedUserIdentifierHolder-".concat(t),!!n),e.vid&&o._userIdentifiers.push(new u.UserAgentIdentifierJson(e.vid,e.vidExpirationTS)),o.legacyUserAccountId=e.legacyUserAccountId,o.legacyCompartmentToken=e.legacyCompartmentToken,o.legacyEmailHash=e.legacyEmailHash,o.legacyEmail=e.legacyEmail,o}t.default=i},4172:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(2461),c=r(n(8118)),u=n(9124),n=n(9506),i=(s=n.UserIdentifierHolderWrapped,i(l,s),l.prototype.reset=function(){this.vid=void 0,this.vidExpirationTS=void 0,this.legacyUserAccountId=void 0,this.legacyCompartmentToken=void 0,this.legacyEmailHash=void 0,this.legacyEmail=void 0,this.console.info("Reset user identifiers")},l.prototype.getEventPusherProperties=function(e){var t={},n=this.findVectorIdLongValue();return n&&(!e||0<=e.indexOf("mum"))&&(t.$vid=n),this.vidLastTimeSeen&&(t.$lts=this.vidLastTimeSeen),this.legacyUserAccountId&&(t.$cuid=this.legacyUserAccountId),this.legacyCompartmentToken&&(t.$comp_token=this.legacyCompartmentToken),this.legacyEmailHash&&(t.$email_hash=this.legacyEmailHash),this.legacyEmail&&(t.$email=this.legacyEmail),t},l.prototype.userIdentifiers=function(){return new c.default(this,this.context,this.debug).userIdentifiers()},l.prototype.findVectorIdLongValue=function(){var e;return null===(e=this.vid)||void 0===e?void 0:e.split(":")[1]},l.prototype.withUserAccountIdentifier=function(e,t){return new c.default(this,this.context,this.debug).withUserAccountIdentifier(e,t)},l.prototype.withUserAgentIdentifier=function(e,t,n,o){if(this.isVectorId(e)){var i=new u.UserAgentIdentifierJson(e,n);return i.allowedByRegistries(t)?i.getAgentId()!==this.vid?(this.vid=i.getAgentId(),this.vidExpirationTS=i.getAgentExpirationTs(),this.vidLastTimeSeen=o,{holder:this,identifier:i}):{holder:this}:(this.console.warn("Discarded agent because registry is nor authorised",i),{holder:this})}return new c.default(this,this.context,this.debug).withUserAgentIdentifier(e,t,n)},l.prototype.withUserEmailIdentifier=function(e,t){return new c.default(this,this.context,this.debug).withUserEmailIdentifier(e,t)},l.prototype.withIdentifierUnsafe=function(e,t){return new c.default(this,this.context,this.debug).withIdentifierUnsafe(e,t)},l.prototype.isVectorId=function(e){var t=e.split(":"),n=new RegExp(/^\d+$/);return 1==t.length&&n.test(e)||2==t.length&&n.test(t[1])},l);function l(e,t){var n=s.call(this)||this;return n.context=e,n.debug=!!t,n.console=(0,a.Console)("PropertiesBasedUserIdentifierHolder-".concat(e),!!t),n}t.default=i},1296:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.UserAccountIdentifierJsonFactory=t.UserAccountIdentifierJson=t.UserAccountIdentifier=void 0,t.isIUserAccountIdentifierJson=function(e){return"object"==typeof e&&null!==e&&"$type"in e&&"USER_ACCOUNT"===e.$type&&"$user_account_id"in e};var i=function(e,t,n){this.$user_account_id=e,this.$compartment_token=t,n&&(this.$expiration_ts=n)};t.UserAccountIdentifier=i;var r,s=(n(a,r=i),a.prototype.equals=function(e){return e instanceof a&&(e.$user_account_id===this.$user_account_id&&e.$compartment_token===this.$compartment_token)},a.prototype.toQueryObject=function(){var e={$tpe:"AC",$acid:this.$user_account_id,$ctok:this.$compartment_token};return this.$expiration_ts&&(e.$ets=this.$expiration_ts),e},a.prototype.toMappingEvent=function(){return{$type:"USER_ACCOUNT",$user_account_id:this.$user_account_id,$compartment_token:this.$compartment_token,$expiration_ts:this.$expiration_ts}},a.prototype.toString=function(){return"user_account_id=".concat(this.$user_account_id).concat(this.$compartment_token?",compartment_id=".concat(this.$compartment_token):"")},a);function a(e,t,n){n=r.call(this,e,t,n)||this;return n.$type="USER_ACCOUNT",n}t.UserAccountIdentifierJson=s;c.prototype.fromObjectUnsafe=function(e){if(e.$user_account_id)return new s(e.$user_account_id,e.$compartment_token,e.$expiration_ts);throw Error("".concat(e," is not does not have $user_account_id property"))},i=c;function c(){}t.UserAccountIdentifierJsonFactory=i},9124:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.UserAgentIdentifierJsonFactory=t.UserAgentIdentifierJson=void 0,t.isIUserAgentIdentifierJson=function(e){return"object"==typeof e&&null!==e&&"$type"in e&&"USER_AGENT"===e.$type&&"$user_agent_id"in e};var i={vec:"MUM_ID",mum:"MUM_ID",ins:"INSTALLATION_ID",tech:"TECHNICAL_ID",web:"ORGANISATION_OWNED_ID",etag:"ETAG",mob:"MOBILE_ADVERTISING_ID",mov:"MOBILE_VENDOR_ID",net:"NETWORK_DEVICE_ID",dev:"CUSTOM_DEVICE_ID",tv:"TV_ADVERTISING_ID"},r=["mov","mob","tv","dev","net"];var s,a=(n(c,s=function(e,t){if(new RegExp(/^\d+$/).test(e))this.$user_agent_id="vec:".concat(e);else{if(!Object.keys(i).includes(e.split(":")[0]))throw Error("Unknown user agent id ".concat(e));this.$user_agent_id=e}t&&(this.$expiration_ts=t)}),c.prototype.equals=function(e){return e instanceof c&&e.$user_agent_id===this.$user_agent_id},c.prototype.isVectorId=function(){return this.$user_agent_id.startsWith("vec:")},c.prototype.isClientRegistry=function(){return 0<=r.indexOf(this.getAgentId().split(":")[0])},c.prototype.inRegistry=function(e){return"mum"==e?this.isVectorId():0<=this.$user_agent_id.indexOf(":".concat(e,":"))},c.prototype.allowedByRegistries=function(e){var n=this;return this.isClientRegistry()||void 0===e||e.reduce(function(e,t){return e||n.inRegistry(t)},!1)},c.prototype.getAgentId=function(){return this.$user_agent_id},c.prototype.getAgentExpirationTs=function(){return this.$expiration_ts},c.prototype.toQueryObject=function(){var e={$tpe:"AG",$agid:this.$user_agent_id};return this.$expiration_ts&&(e.$ets=this.$expiration_ts),e},Object.defineProperty(c.prototype,"registryType",{get:function(){var e=this.getAgentId().split(":");return i[e[0]]},enumerable:!1,configurable:!0}),c.prototype.getRegistryId=function(e){var t,n,o="0";return"MUM_ID"===this.registryType?o="1":"MOBILE_ADVERTISING_ID"===this.registryType?"and"===(t=this.getAgentId().split(":")[1])?o="2":"ios"===t&&(o="3"):"NETWORK_DEVICE_ID"===this.registryType&&("4"===(n=this.getAgentId().split(":")[1])||"5"===n?o=n:"first-id"===n&&(o="21")),"0"===o&&((n=this.getAgentId().split(":")[1])&&/^\d+$/.test(n)?o=n:(n=e[n])&&(o=n)),o},c.prototype.toMappingEvent=function(){var e=this.getAgentId().split(":"),t=this.registryType;return"MUM_ID"===t?{$type:t,$registry_token:1,$value:this.getAgentId(),$id:e[1],$expiration_ts:this.$expiration_ts}:{$type:t,$registry_token:e[1],$value:this.getAgentId(),$id:e.splice(2).join(":"),$expiration_ts:this.$expiration_ts}},c.prototype.toString=function(){return"user_agent_id=".concat(this.$user_agent_id)},c);function c(e,t){t=s.call(this,e,t)||this;return t.$type="USER_AGENT",t}t.UserAgentIdentifierJson=a;u.prototype.fromObjectUnsafe=function(e){if(e.$user_agent_id)return new a(e.$user_agent_id,e.$expiration_ts);throw Error("".concat(e," is not does not have $user_agent_id property"))},n=u;function u(){}t.UserAgentIdentifierJsonFactory=n},2849:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.UserEmailIdentifierJsonFactory=t.UserEmailIdentifierJson=t.UserEmailIdentifier=void 0,t.isIUserEmailIdentifierJson=function(e){return"object"==typeof e&&null!==e&&"$type"in e&&"USER_EMAIL"===e.$type&&"$email_hash"in e};var i=(r.prototype.getEmailHash=function(){return this.$email_hash},r);function r(e,t,n){this.$email_hash=e,this.$email=t,n&&(this.$expiration_ts=n)}t.UserEmailIdentifier=i;var s,a=(n(c,s=i),c.prototype.equals=function(e){return e instanceof c&&e.$email_hash===this.$email_hash},c.prototype.toQueryObject=function(){return{$tpe:"EM",$eh:this.$email_hash,$e:this.$email,$ets:this.$expiration_ts}},c.prototype.toMappingEvent=function(){return{$type:"USER_EMAIL",$email_hash:this.$email_hash,$email:this.$email,$expiration_ts:this.$expiration_ts}},c.prototype.toString=function(){return"user_email=".concat(this.$email_hash)},c);function c(e,t,n){n=s.call(this,e,t,n)||this;return n.$type="USER_EMAIL",n}t.UserEmailIdentifierJson=a;u.prototype.fromObjectUnsafe=function(e){if(e.$email_hash)return new a(e.$email_hash,e.$email,e.$expiration_ts);throw Error("".concat(e," is not does not have $email_hash property"))},i=u;function u(){}t.UserEmailIdentifierJsonFactory=i},4951:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(4172)),r=n(2461),s=n(9124),n=(Object.defineProperty(a.prototype,"legacyUserAccountId",{set:function(e){this.internal.legacyUserAccountId=e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"legacyCompartmentToken",{set:function(e){this.internal.legacyCompartmentToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"legacyEmailHash",{set:function(e){this.internal.legacyEmailHash=e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"legacyEmail",{set:function(e){this.internal.legacyEmail=e},enumerable:!1,configurable:!0}),a.prototype.getEventPusherProperties=function(){return this.internal.getEventPusherProperties(this.allowedRegistries)},a.prototype.userIdentifiers=function(){return this.internal.userIdentifiers()},a.prototype.hasIdentifiers=function(){return 0<this.internal.userIdentifiers().length},a.prototype.collectFirstUserAgentIdentifier=function(){return this.internal.collectFirstUserAgentIdentifier()},a.prototype.findVectorIdLongValue=function(){return this.internal.findVectorIdLongValue()},a.prototype.addAllowedRegistry=function(t){var n=this;this.allowedRegistries||(this.allowedRegistries=[]),this.allowedRegistries.push(t),1==this.allowedRegistries.length?this.collectAgents().filter(function(e){return!e.allowedByRegistries(n.allowedRegistries)}).forEach(function(e){return n.notifyRemovedIdentifier(e)}):this.collectAgents().filter(function(e){return e.inRegistry(t)}).forEach(function(e){return n.notifyNewIdentifier(e)})},a.prototype.collectAgents=function(){return this.internal.userIdentifiers().filter(function(e){return e instanceof s.UserAgentIdentifierJson}).map(function(e){return e})},a.prototype.addIdentifierUnsafe=function(e,t){t=this.internal.withIdentifierUnsafe(e,t);this.internal=t.holder,t.identifier&&this.notifyNewIdentifier(t.identifier)},a.prototype.addUserAccountIdentifier=function(e,t){t=this.internal.withUserAccountIdentifier(e,t);this.internal=t.holder,t.identifier&&this.notifyNewIdentifier(t.identifier)},a.prototype.addUserEmailIdentifier=function(e,t){t=this.internal.withUserEmailIdentifier(e,t);this.internal=t.holder,t.identifier&&this.notifyNewIdentifier(t.identifier)},a.prototype.addUserAgentIdentifier=function(e,t,n){n=this.internal.withUserAgentIdentifier(e,this.allowedRegistries,t,n);this.internal=n.holder,n.identifier&&this.notifyNewIdentifier(n.identifier)},a);function a(e,t){var n=this;this.allowedRegistries=void 0,this.subscribe=function(e){n.observers.push(e),n.console.log("New observer ".concat(e.observerName()," subscribed !"))},this.notifyNewIdentifier=function(t){n.observers.forEach(function(e){n.console.debug("Calling onNewIdentifier(".concat(JSON.stringify(t),") on observer ").concat(e.observerName())),e.onNewIdentifier(t)})},this.notifyRemovedIdentifier=function(t){n.observers.forEach(function(e){n.console.debug("Calling onRemovedIdentifier(".concat(JSON.stringify(t),") on observer ").concat(e.observerName())),e.onRemovedIdentifier(t)})},this.context=e,this.debug=!!t,this.console=(0,r.Console)("UserIdentifierHolder-".concat(e),!!t),this.internal=new i.default(e,t),this.observers=[]}t.default=n},9506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserIdentifierHolderWrapped=void 0;var o=n(9124),n=(i.prototype.collectFirstUserAgentIdentifier=function(){return this.userIdentifiers().find(function(e){return e instanceof o.UserAgentIdentifierJson})},i);function i(){}t.UserIdentifierHolderWrapped=n},7089:(e,n)=>{"use strict";function o(e,t){return e.$type===t.$type&&("USER_AGENT"===e.$type&&"USER_AGENT"===t.$type?e.$user_agent_id===t.$user_agent_id:"USER_ACCOUNT"===e.$type&&"USER_ACCOUNT"===t.$type?e.$user_account_id===t.$user_account_id&&e.$compartment_token===t.$compartment_token:"USER_EMAIL"===e.$type&&"USER_EMAIL"===t.$type&&e.$email_hash===t.$email_hash)}Object.defineProperty(n,"__esModule",{value:!0}),n.USER_IDENTIFIER_SESSION_STORAGE_KEY=void 0,n.USER_IDENTIFIER_SESSION_STORAGE_KEY="mcssids";var t=(i.prototype.observerName=function(){return"UserIdentifierSessionStorage-"+this.context},i.prototype.getStoredUserIdentifiers=function(){var e=this.sessionStorage.getItem(n.USER_IDENTIFIER_SESSION_STORAGE_KEY);return e&&JSON.parse(e)[this.siteToken]||[]},i.prototype.setStoredUserIdentifiers=function(e){var t=this.sessionStorage.getItem(n.USER_IDENTIFIER_SESSION_STORAGE_KEY),t=t?JSON.parse(t):{};t[this.siteToken]=e,this.sessionStorage.setItem(n.USER_IDENTIFIER_SESSION_STORAGE_KEY,JSON.stringify(t))},i.prototype.onNewIdentifier=function(e){var t,n=this.getStoredUserIdentifiers();t=e,n.some(function(e){return o(e,t)})||(n.push(e),this.setStoredUserIdentifiers(n))},i.prototype.onRemovedIdentifier=function(t){var e=this.getStoredUserIdentifiers().filter(function(e){return!o(e,t)});this.setStoredUserIdentifiers(e)},i);function i(e,t){this.sessionStorage=window.sessionStorage,this.context=e,this.siteToken=t}n.default=t},9621:function(e,n,t){"use strict";var s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)s.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.CallResponder=n.API_KEY=void 0;var c=t(1581),u=t(5656),l=t(476),d=t(7629),p=t(3965);n.API_KEY="__tcfapi";o.prototype.apiCall=function(e,t,n){for(var o,i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];if("string"!=typeof e)n(null,!1);else if(p.SupportedVersions.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");l.CmpApiModel.disabled?n(new d.Disabled,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?(o=this.customCommands)[e].apply(o,a([n],s(i),!1)):e===c.TCFCommand.PING?this.isCustomCommand(e)?new u.CommandMap[e](this.customCommands[e],i[0],null,n):new u.CommandMap[e](n,i[0]):void 0===l.CmpApiModel.tcModel?this.callQueue.push(a([e,t,n],s(i),!1)):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new u.CommandMap[e](this.customCommands[e],i[0],null,n):new u.CommandMap[e](n,i[0]):n(null,!1)}else n(null,!1)},o.prototype.purgeQueuedCalls=function(){var e=this.callQueue;this.callQueue=[],e.forEach(function(e){window[n.API_KEY].apply(window,a([],s(e),!1))})},o.prototype.isCustomCommand=function(e){return this.customCommands&&"function"==typeof this.customCommands[e]},o.prototype.isBuiltInCommand=function(e){return void 0!==u.CommandMap[e]},t=o;function o(e){if(e){var t=c.TCFCommand.ADD_EVENT_LISTENER;if(null!=e&&e[t])throw new Error("Built-In Custom Commmand for ".concat(t," not allowed: Use ").concat(c.TCFCommand.GET_TC_DATA," instead"));if(t=c.TCFCommand.REMOVE_EVENT_LISTENER,null!=e&&e[t])throw new Error("Built-In Custom Commmand for ".concat(t," not allowed"));null!=e&&e[c.TCFCommand.GET_TC_DATA]&&(e[c.TCFCommand.ADD_EVENT_LISTENER]=e[c.TCFCommand.GET_TC_DATA],e[c.TCFCommand.REMOVE_EVENT_LISTENER]=e[c.TCFCommand.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window[n.API_KEY]()||[]}catch(e){this.callQueue=[]}finally{window[n.API_KEY]=this.apiCall.bind(this),this.purgeQueuedCalls()}}n.CallResponder=t},9089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CmpApi=void 0;var i=n(476),o=n(3619),r=n(9621),s=n(3406),n=(a.prototype.throwIfInvalidInt=function(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&n<=e))throw new Error("Invalid ".concat(t,": ").concat(e))},a.prototype.update=function(e,t){if(void 0===t&&(t=!1),i.CmpApiModel.disabled)throw new Error("CmpApi Disabled");i.CmpApiModel.cmpStatus=o.CmpStatus.LOADED,t?(i.CmpApiModel.displayStatus=o.DisplayStatus.VISIBLE,i.CmpApiModel.eventStatus=o.EventStatus.CMP_UI_SHOWN):void 0===i.CmpApiModel.tcModel?(i.CmpApiModel.displayStatus=o.DisplayStatus.DISABLED,i.CmpApiModel.eventStatus=o.EventStatus.TC_LOADED):(i.CmpApiModel.displayStatus=o.DisplayStatus.HIDDEN,i.CmpApiModel.eventStatus=o.EventStatus.USER_ACTION_COMPLETE),i.CmpApiModel.gdprApplies=null!==e,i.CmpApiModel.gdprApplies?(""===e?(i.CmpApiModel.tcModel=new s.TCModel,i.CmpApiModel.tcModel.cmpId=i.CmpApiModel.cmpId,i.CmpApiModel.tcModel.cmpVersion=i.CmpApiModel.cmpVersion):i.CmpApiModel.tcModel=s.TCString.decode(e),i.CmpApiModel.tcModel.isServiceSpecific=this.isServiceSpecific,i.CmpApiModel.tcfPolicyVersion=Number(i.CmpApiModel.tcModel.policyVersion),i.CmpApiModel.tcString=e):i.CmpApiModel.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():i.CmpApiModel.eventQueue.exec(),this.numUpdates++},a.prototype.disable=function(){i.CmpApiModel.disabled=!0,i.CmpApiModel.cmpStatus=o.CmpStatus.ERROR},a);function a(e,t,n,o){void 0===n&&(n=!1),this.numUpdates=0,this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),i.CmpApiModel.cmpId=e,i.CmpApiModel.cmpVersion=t,i.CmpApiModel.tcfPolicyVersion=2,this.isServiceSpecific=!!n,this.callResponder=new r.CallResponder(o)}t.CmpApi=n},476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CmpApiModel=void 0;var o=n(3619),n=n(6173),n=(i.reset=function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=o.CmpStatus.LOADING,this.disabled=!1,this.displayStatus=o.DisplayStatus.HIDDEN,this.eventQueue.clear()},i.apiVersion="2",i.eventQueue=new n.EventListenerQueue,i.cmpStatus=o.CmpStatus.LOADING,i.disabled=!1,i.displayStatus=o.DisplayStatus.HIDDEN,i);function i(){}t.CmpApiModel=n},3143:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventListenerQueue=void 0;var o=n(5244),n=(i.prototype.add=function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++},i.prototype.remove=function(e){return this.eventQueue.delete(e)},i.prototype.exec=function(){this.eventQueue.forEach(function(e,t){new o.GetTCDataCommand(e.callback,e.param,t,e.next)})},i.prototype.clear=function(){this.queueNumber=0,this.eventQueue.clear()},Object.defineProperty(i.prototype,"size",{get:function(){return this.eventQueue.size},enumerable:!1,configurable:!0}),i);function i(){this.eventQueue=new Map,this.queueNumber=0}t.EventListenerQueue=n},3965:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SupportedVersions=void 0;var n=(o.has=function(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)},o.set_=new Set([0,2,void 0,null]),o);function o(){}t.SupportedVersions=n},145:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AddEventListenerCommand=void 0;var r,s=n(476),n=n(5244),i=(r=n.GetTCDataCommand,i(a,r),a.prototype.respond=function(){this.listenerId=s.CmpApiModel.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),r.prototype.respond.call(this)},a);function a(){return null!==r&&r.apply(this,arguments)||this}t.AddEventListenerCommand=i},7110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0;var n=(o.prototype.invokeCallback=function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)},o);function o(e,t,n,o){this.success=!0,Object.assign(this,{callback:e,listenerId:n,param:t,next:o});try{this.respond()}catch(e){this.invokeCallback(null)}}t.Command=n},4395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandMap=void 0;var o,i,r,s,a=n(8785),c=n(5244),u=n(8759),l=n(2947),d=n(145),p=n(6467),h=n(131),p=(o=h.TCFCommand.PING,i=h.TCFCommand.GET_TC_DATA,r=h.TCFCommand.GET_IN_APP_TC_DATA,s=h.TCFCommand.GET_VENDOR_LIST,n=h.TCFCommand.ADD_EVENT_LISTENER,h=h.TCFCommand.REMOVE_EVENT_LISTENER,f[o]=a.PingCommand,f[i]=c.GetTCDataCommand,f[r]=u.GetInAppTCDataCommand,f[s]=l.GetVendorListCommand,f[n]=d.AddEventListenerCommand,f[h]=p.RemoveEventListenerCommand,f);function f(){}t.CommandMap=p},8759:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GetInAppTCDataCommand=void 0;var r,s=n(5244),a=n(2811),i=(r=s.GetTCDataCommand,i(c,r),c.prototype.respond=function(){this.throwIfParamInvalid(),this.invokeCallback(new a.InAppTCData(this.param))},c);function c(){return null!==r&&r.apply(this,arguments)||this}t.GetInAppTCDataCommand=i},5244:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GetTCDataCommand=void 0;var r,s=n(7110),a=n(2811),i=(r=s.Command,i(c,r),c.prototype.respond=function(){this.throwIfParamInvalid(),this.invokeCallback(new a.TCData(this.param,this.listenerId))},c.prototype.throwIfParamInvalid=function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")},c);function c(){return null!==r&&r.apply(this,arguments)||this}t.GetTCDataCommand=i},2947:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GetVendorListCommand=void 0;var r,s=n(476),a=n(7110),c=n(3406),i=(r=a.Command,i(u,r),u.prototype.respond=function(){var e,t=this,n=s.CmpApiModel.tcModel,o=n.vendorListVersion;void 0===this.param&&(this.param=o),(e=this.param===o&&n.gvl?n.gvl:new c.GVL(this.param)).readyPromise.then(function(){t.invokeCallback(e.getJson())})},u);function u(){return null!==r&&r.apply(this,arguments)||this}t.GetVendorListCommand=i},8785:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PingCommand=void 0;var r,s=n(2811),n=n(7110),i=(r=n.Command,i(a,r),a.prototype.respond=function(){this.invokeCallback(new s.Ping)},a);function a(){return null!==r&&r.apply(this,arguments)||this}t.PingCommand=i},6467:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveEventListenerCommand=void 0;var r,s=n(476),n=n(7110),i=(r=n.Command,i(a,r),a.prototype.respond=function(){this.invokeCallback(s.CmpApiModel.eventQueue.remove(this.param))},a);function a(){return null!==r&&r.apply(this,arguments)||this}t.RemoveEventListenerCommand=i},131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCFCommand=void 0,(t=t.TCFCommand||(t.TCFCommand={})).PING="ping",t.GET_TC_DATA="getTCData",t.GET_IN_APP_TC_DATA="getInAppTCData",t.GET_VENDOR_LIST="getVendorList",t.ADD_EVENT_LISTENER="addEventListener",t.REMOVE_EVENT_LISTENER="removeEventListener"},1581:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(131),t),i(n(4395),t)},346:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.API_KEY=void 0,i(n(1581),t),i(n(2811),t),i(n(3619),t),i(n(9089),t),i(n(476),t),i(n(3143),t);var r=n(9621);Object.defineProperty(t,"API_KEY",{enumerable:!0,get:function(){return r.API_KEY}})},7629:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Disabled=void 0;var r,s=n(8066),a=n(3619),i=(r=s.Response,i(c,r),c);function c(){var e=null!==r&&r.apply(this,arguments)||this;return e.cmpStatus=a.CmpStatus.ERROR,e}t.Disabled=i},9933:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)s.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.InAppTCData=void 0;var a,n=n(2520),i=(a=n.TCData,i(c,a),c.prototype.createVectorField=function(e){return s([],r(e),!1).reduce(function(e,t){return e+(t[1]?"1":"0")},"")},c.prototype.createRestrictions=function(e){var r={};if(0<e.numRestrictions){var t=e.getMaxVendorId();e.getRestrictions().forEach(function(e){r[e.purposeId.toString()]="_".repeat(t)});for(var n=0;n<t;n++)!function(i){e.getRestrictions(i+1).forEach(function(e){var t=e.restrictionType.toString(),n=e.purposeId.toString(),o=r[n].substr(0,i),e=r[n].substr(i+1);r[n]=o+t+e})}(n)}return r},c);function c(e){e=a.call(this,e)||this;return delete e.outOfBand,e}t.InAppTCData=i},9364:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Ping=void 0;var r,s=n(476),n=n(8066),i=(r=n.Response,i(a,r),a);function a(){var e=r.call(this)||this;return e.cmpLoaded=!0,e.cmpStatus=s.CmpApiModel.cmpStatus,e.displayStatus=s.CmpApiModel.displayStatus,e.apiVersion=String(s.CmpApiModel.apiVersion),s.CmpApiModel.tcModel&&s.CmpApiModel.tcModel.vendorListVersion&&(e.gvlVersion=+s.CmpApiModel.tcModel.vendorListVersion),e}t.Ping=i},8066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Response=void 0;var o=n(476);t.Response=function(){this.cmpId=o.CmpApiModel.cmpId,this.cmpVersion=o.CmpApiModel.cmpVersion,this.gdprApplies=o.CmpApiModel.gdprApplies,this.tcfPolicyVersion=o.CmpApiModel.tcfPolicyVersion}},2520:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)s.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TCData=void 0;var a,c=n(476),n=n(8066),i=(a=n.Response,i(u,a),u.prototype.createRestrictions=function(t){var o={};if(0<t.numRestrictions)for(var e=t.getMaxVendorId(),n=1;n<=e;n++)!function(e){var n=e.toString();t.getRestrictions(e).forEach(function(e){var t=e.purposeId.toString();o[t]||(o[t]={}),o[t][n]=e.restrictionType})}(n);return o},u.prototype.createVectorField=function(n,e){return e?e.reduce(function(e,t){return e[String(t)]=n.has(Number(t)),e},{}):s([],r(n),!1).reduce(function(e,t){return e[t[0].toString(10)]=t[1],e},{})},u);function u(e,t){var n=a.call(this)||this;return n.eventStatus=c.CmpApiModel.eventStatus,n.cmpStatus=c.CmpApiModel.cmpStatus,n.listenerId=t,c.CmpApiModel.gdprApplies&&(t=c.CmpApiModel.tcModel,n.tcString=c.CmpApiModel.tcString,n.isServiceSpecific=t.isServiceSpecific,n.useNonStandardStacks=t.useNonStandardStacks,n.purposeOneTreatment=t.purposeOneTreatment,n.publisherCC=t.publisherCountryCode,n.outOfBand={allowedVendors:n.createVectorField(t.vendorsAllowed,e),disclosedVendors:n.createVectorField(t.vendorsDisclosed,e)},n.purpose={consents:n.createVectorField(t.purposeConsents),legitimateInterests:n.createVectorField(t.purposeLegitimateInterests)},n.vendor={consents:n.createVectorField(t.vendorConsents,e),legitimateInterests:n.createVectorField(t.vendorLegitimateInterests,e)},n.specialFeatureOptins=n.createVectorField(t.specialFeatureOptins),n.publisher={consents:n.createVectorField(t.publisherConsents),legitimateInterests:n.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:n.createVectorField(t.publisherCustomConsents),legitimateInterests:n.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:n.createRestrictions(t.publisherRestrictions)}),n}t.TCData=i},2811:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7629),t),i(n(9933),t),i(n(9364),t),i(n(8066),t),i(n(2520),t)},1865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CmpStatus=void 0,(t=t.CmpStatus||(t.CmpStatus={})).STUB="stub",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error"},3042:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayStatus=void 0,(t=t.DisplayStatus||(t.DisplayStatus={})).VISIBLE="visible",t.HIDDEN="hidden",t.DISABLED="disabled"},63:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventStatus=void 0,(t=t.EventStatus||(t.EventStatus={})).TC_LOADED="tcloaded",t.CMP_UI_SHOWN="cmpuishown",t.USER_ACTION_COMPLETE="useractioncomplete"},3619:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1865),t),i(n(3042),t),i(n(63),t)},6542:function(e,t){"use strict";var l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&o>=e.length?void 0:e)&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Cloneable=void 0;var n=(o.prototype.clone=function(){var n=this,o=new this.constructor;return Object.keys(this).forEach(function(e){var t=n.deepClone(n[e]);void 0!==t&&(o[e]=t)}),o},o.prototype.deepClone=function(e){var t,n,o=typeof e;if("number"==o||"string"==o||"boolean"==o)return e;if(null!==e&&"object"==o){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var i=[];try{for(var r=l(e),s=r.next();!s.done;s=r.next()){var a=s.value;i.push(this.deepClone(a))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e instanceof Array?i:new e.constructor(i)}var c,u={};for(c in e)e.hasOwnProperty(c)&&(u[c]=this.deepClone(e[c]));return u}},o);function o(){}t.Cloneable=n},4892:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(n,t){function o(e){try{r(c.next(e))}catch(e){t(e)}}function i(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,i)}r((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,o){var i,r,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,r&&(s=2&t[0]?r.return:t[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,t[1])).done)return s;switch(r=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,r=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(n,a)}catch(e){t=[6,e],r=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GVL=void 0;var r,c=n(6542),u=n(6468),l=n(5761),n=n(8663),n=(r=c.Cloneable,i(d,r),Object.defineProperty(d,"baseUrl",{get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new u.GVLError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");0<e.length&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e},enumerable:!1,configurable:!0}),d.emptyLanguageCache=function(e){var t=!1;return void 0===e&&0<d.LANGUAGE_CACHE.size?(d.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(d.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t},d.emptyCache=function(e){var t=!1;return Number.isInteger(e)&&0<=e?(d.CACHE.delete(e),t=!0):void 0===e&&(d.CACHE=new Map,t=!0),t},d.prototype.cacheLanguage=function(){d.LANGUAGE_CACHE.has(this.lang_)||d.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})},d.prototype.fetchJson=function(o){return s(this,void 0,void 0,function(){var t,n;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this.populate,[4,l.Json.fetch(o)];case 1:return t.apply(this,[e.sent()]),[3,3];case 2:throw n=e.sent(),new u.GVLError(n.message);case 3:return[2]}})})},d.prototype.getJson=function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))},d.prototype.changeLanguage=function(r){return s(this,void 0,void 0,function(){var t,n,o,i;return a(this,function(e){switch(e.label){case 0:if(i=r.toUpperCase(),!d.consentLanguages.has(i))return[3,6];if(i===this.lang_)return[3,5];if(this.lang_=i,!d.LANGUAGE_CACHE.has(i))return[3,1];for(n in t=d.LANGUAGE_CACHE.get(i))t.hasOwnProperty(n)&&(this[n]=t[n]);return[3,5];case 1:o=d.baseUrl+d.languageFilename.replace("[LANG]",r),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.fetchJson(o)];case 3:return e.sent(),this.cacheLanguage(),[3,5];case 4:throw i=e.sent(),new u.GVLError("unable to load language: "+i.message);case 5:return[3,7];case 6:throw new u.GVLError("unsupported language ".concat(r));case 7:return[2]}})})},Object.defineProperty(d.prototype,"language",{get:function(){return this.lang_},enumerable:!1,configurable:!0}),d.prototype.isVendorList=function(e){return void 0!==e&&void 0!==e.vendors},d.prototype.populate=function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&d.CACHE.set(d.LATEST_CACHE_KEY,this.getJson()),d.CACHE.has(this.vendorListVersion)||d.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()},d.prototype.mapVendors=function(e){var o=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){o.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){o.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){o.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){o.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors_=e.reduce(function(e,t){var n=o.vendors_[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach(function(e){o.byPurposeVendorMap[String(e)].consent.add(t)}),n.specialPurposes.forEach(function(e){o.bySpecialPurposeVendorMap[String(e)].add(t)}),n.legIntPurposes.forEach(function(e){o.byPurposeVendorMap[String(e)].legInt.add(t)}),n.flexiblePurposes&&n.flexiblePurposes.forEach(function(e){o.byPurposeVendorMap[String(e)].flexible.add(t)}),n.features.forEach(function(e){o.byFeatureVendorMap[String(e)].add(t)}),n.specialFeatures.forEach(function(e){o.bySpecialFeatureVendorMap[String(e)].add(t)}),e[t]=n),e},{})},d.prototype.getFilteredVendors=function(e,t,n,o){var i=this,r=e.charAt(0).toUpperCase()+e.slice(1),s={};return("purpose"===e&&n?this["by"+r+"VendorMap"][String(t)][n]:this["by"+(o?"Special":"")+r+"VendorMap"][String(t)]).forEach(function(e){s[String(e)]=i.vendors[String(e)]}),s},d.prototype.getVendorsWithConsentPurpose=function(e){return this.getFilteredVendors("purpose",e,"consent")},d.prototype.getVendorsWithLegIntPurpose=function(e){return this.getFilteredVendors("purpose",e,"legInt")},d.prototype.getVendorsWithFlexiblePurpose=function(e){return this.getFilteredVendors("purpose",e,"flexible")},d.prototype.getVendorsWithSpecialPurpose=function(e){return this.getFilteredVendors("purpose",e,void 0,!0)},d.prototype.getVendorsWithFeature=function(e){return this.getFilteredVendors("feature",e)},d.prototype.getVendorsWithSpecialFeature=function(e){return this.getFilteredVendors("feature",e,void 0,!0)},Object.defineProperty(d.prototype,"vendors",{get:function(){return this.vendors_},enumerable:!1,configurable:!0}),d.prototype.narrowVendorsTo=function(e){this.mapVendors(e)},Object.defineProperty(d.prototype,"isReady",{get:function(){return this.isReady_},enumerable:!1,configurable:!0}),d.prototype.clone=function(){var e=new d(this.getJson());return this.lang_!==d.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e},d.isInstanceOf=function(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo},d.LANGUAGE_CACHE=new Map,d.CACHE=new Map,d.LATEST_CACHE_KEY=0,d.DEFAULT_LANGUAGE="EN",d.consentLanguages=new n.ConsentLanguages,d.latestFilename="vendor-list.json",d.versionedFilename="archives/vendor-list-v[VERSION].json",d.languageFilename="purposes-[LANG].json",d);function d(e){var t=r.call(this)||this;t.isReady_=!1,t.isLatest=!1;var n=d.baseUrl;if(t.lang_=d.DEFAULT_LANGUAGE,t.isVendorList(e))t.populate(e),t.readyPromise=Promise.resolve();else{if(!n)throw new u.GVLError("must specify GVL.baseUrl before loading GVL json");0<e?d.CACHE.has(e=e)?(t.populate(d.CACHE.get(e)),t.readyPromise=Promise.resolve()):(n+=d.versionedFilename.replace("[VERSION]",String(e)),t.readyPromise=t.fetchJson(n)):d.CACHE.has(d.LATEST_CACHE_KEY)?(t.populate(d.CACHE.get(d.LATEST_CACHE_KEY)),t.readyPromise=Promise.resolve()):(t.isLatest=!0,t.readyPromise=t.fetchJson(n+d.latestFilename))}return t}t.GVL=n},5761:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Json=void 0;var n=(o.absCall=function(e,i,r,s){return new Promise(function(t,n){var o=new XMLHttpRequest;o.withCredentials=r,o.addEventListener("load",function(){if(o.readyState==XMLHttpRequest.DONE)if(200<=o.status&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}t(e)}else n(new Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))}),o.addEventListener("error",function(){n(new Error("error"))}),o.addEventListener("abort",function(){n(new Error("aborted"))}),null===i?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=s,o.ontimeout=function(){n(new Error("Timeout "+s+"ms "+e))},o.send(i)})},o.post=function(e,t,n,o){return void 0===n&&(n=!1),void 0===o&&(o=0),this.absCall(e,JSON.stringify(t),n,o)},o.fetch=function(e,t,n){return this.absCall(e,null,t=void 0===t?!1:t,n=void 0===n?0:n)},o);function o(){}t.Json=n},3769:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TCModel=void 0;var r,s=n(6542),a=n(6468),c=n(4892),u=n(8663),i=(r=s.Cloneable,i(l,r),Object.defineProperty(l.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){c.GVL.isInstanceOf(e)||(e=new c.GVL(e)),this.gvl_=e,this.publisherRestrictions.gvl=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cmpId",{get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&1<e))throw new a.TCModelError("cmpId",e);this.cmpId_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cmpVersion",{get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&-1<e))throw new a.TCModelError("cmpVersion",e);this.cmpVersion_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"consentScreen",{get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&-1<e))throw new a.TCModelError("consentScreen",e);this.consentScreen_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"consentLanguage",{get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"publisherCountryCode",{get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new a.TCModelError("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"vendorListVersion",{get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=Number(e)>>0)<0)throw new a.TCModelError("vendorListVersion",e);this.vendorListVersion_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"policyVersion",{get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new a.TCModelError("policyVersion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isServiceSpecific",{get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"useNonStandardStacks",{get:function(){return this.useNonStandardStacks_},set:function(e){this.useNonStandardStacks_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"supportOOB",{get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"purposeOneTreatment",{get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e},enumerable:!1,configurable:!0}),l.prototype.setAllVendorConsents=function(){this.vendorConsents.set(this.gvl.vendors)},l.prototype.unsetAllVendorConsents=function(){this.vendorConsents.empty()},l.prototype.setAllVendorsDisclosed=function(){this.vendorsDisclosed.set(this.gvl.vendors)},l.prototype.unsetAllVendorsDisclosed=function(){this.vendorsDisclosed.empty()},l.prototype.setAllVendorsAllowed=function(){this.vendorsAllowed.set(this.gvl.vendors)},l.prototype.unsetAllVendorsAllowed=function(){this.vendorsAllowed.empty()},l.prototype.setAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.set(this.gvl.vendors)},l.prototype.unsetAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.empty()},l.prototype.setAllPurposeConsents=function(){this.purposeConsents.set(this.gvl.purposes)},l.prototype.unsetAllPurposeConsents=function(){this.purposeConsents.empty()},l.prototype.setAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.set(this.gvl.purposes)},l.prototype.unsetAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.empty()},l.prototype.setAllSpecialFeatureOptins=function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)},l.prototype.unsetAllSpecialFeatureOptins=function(){this.specialFeatureOptins.empty()},l.prototype.setAll=function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()},l.prototype.unsetAll=function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()},Object.defineProperty(l.prototype,"numCustomPurposes",{get:function(){var e,t=this.numCustomPurposes_;return"object"==typeof this.customPurposes&&(e=Object.keys(this.customPurposes).sort(function(e,t){return Number(e)-Number(t)}),t=parseInt(e.pop(),10)),t},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new a.TCModelError("numCustomPurposes",e)},enumerable:!1,configurable:!0}),l.prototype.updated=function(){var e=new Date,e=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=e,this.lastUpdated=e},l.consentLanguages=c.GVL.consentLanguages,l);function l(e){var t=r.call(this)||this;return t.isServiceSpecific_=!1,t.supportOOB_=!0,t.useNonStandardStacks_=!1,t.purposeOneTreatment_=!1,t.publisherCountryCode_="AA",t.version_=2,t.consentScreen_=0,t.policyVersion_=2,t.consentLanguage_="EN",t.cmpId_=0,t.cmpVersion_=0,t.vendorListVersion_=0,t.numCustomPurposes_=0,t.specialFeatureOptins=new u.Vector,t.purposeConsents=new u.Vector,t.purposeLegitimateInterests=new u.Vector,t.publisherConsents=new u.Vector,t.publisherLegitimateInterests=new u.Vector,t.publisherCustomConsents=new u.Vector,t.publisherCustomLegitimateInterests=new u.Vector,t.vendorConsents=new u.Vector,t.vendorLegitimateInterests=new u.Vector,t.vendorsDisclosed=new u.Vector,t.vendorsAllowed=new u.Vector,t.publisherRestrictions=new u.PurposeRestrictionVector,e&&(t.gvl=e),t.updated(),t}t.TCModel=i},5064:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCString=void 0;var a=n(2368),c=n(8663),u=n(6776),l=n(3769),n=(o.encode=function(o,e){var i,r="";return o=a.SemanticPreEncoder.process(o,e),(i=Array.isArray(null==e?void 0:e.segments)?e.segments:new a.SegmentSequence(o,e)[""+o.version]).forEach(function(e,t){var n="";t<i.length-1&&(n="."),r+=a.SegmentEncoder.encode(o,e)+n}),r},o.decode=function(e,t){var n=e.split("."),o=n.length;t=t||new l.TCModel;for(var i=0;i<o;i++){var r=n[i],s=a.Base64Url.decode(r.charAt(0)).substr(0,a.BitLength.segmentType),s=c.SegmentIDs.ID_TO_KEY[u.IntEncoder.decode(s,a.BitLength.segmentType).toString()];a.SegmentEncoder.decode(r,t,s)}return t},o);function o(){}t.TCString=n},4952:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base64Url=void 0;var i=n(6468),n=(o.encode=function(e){if(!/^[0-1]+$/.test(e))throw new i.EncodingError("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",o=0;o<e.length;o+=this.BASIS)n+=this.DICT[parseInt(e.substr(o,this.BASIS),2)];return n},o.decode=function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new i.DecodingError("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var o=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-o.length)+o}return t},o.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",o.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),o.BASIS=6,o.LCM=24,o);function o(){}t.Base64Url=n},9093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitLength=void 0;var o,i,r,s,a,c,u,l,d,p,h,f,g,v,_,y,m=n(8663),m=(o=m.Fields.cmpId,i=m.Fields.cmpVersion,r=m.Fields.consentLanguage,s=m.Fields.consentScreen,a=m.Fields.created,c=m.Fields.isServiceSpecific,u=m.Fields.lastUpdated,l=m.Fields.policyVersion,d=m.Fields.publisherCountryCode,p=m.Fields.publisherLegitimateInterests,h=m.Fields.publisherConsents,f=m.Fields.purposeConsents,g=m.Fields.purposeLegitimateInterests,v=m.Fields.purposeOneTreatment,_=m.Fields.specialFeatureOptins,y=m.Fields.useNonStandardStacks,n=m.Fields.vendorListVersion,m=m.Fields.version,b[o]=12,b[i]=12,b[r]=12,b[s]=6,b[a]=36,b[c]=1,b[u]=36,b[l]=6,b[d]=12,b[p]=24,b[h]=24,b[f]=24,b[g]=24,b[v]=1,b[_]=12,b[y]=1,b[n]=12,b[m]=6,b.anyBoolean=1,b.encodingType=1,b.maxId=16,b.numCustomPurposes=6,b.numEntries=12,b.numRestrictions=12,b.purposeId=6,b.restrictionType=2,b.segmentType=3,b.singleOrRange=1,b.vendorId=16,b);function b(){}t.BitLength=m},4818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentEncoder=void 0;var o=n(4952),u=n(9093),l=n(9999),i=n(1148),d=n(6468),p=n(8927),h=n(8663),i=(r.encode=function(i,r){var e,s=this;try{e=this.fieldSequence[String(i.version)][r]}catch(e){throw new d.EncodingError("Unable to encode version: ".concat(i.version,", segment: ").concat(r))}var a="";r!==h.Segment.CORE&&(a=l.IntEncoder.encode(h.SegmentIDs.KEY_TO_ID[r],u.BitLength.segmentType));var c=(0,l.FieldEncoderMap)();return e.forEach(function(t){var e=i[t],n=c[t],o=u.BitLength[t];void 0===o&&s.isPublisherCustom(t)&&(o=Number(i[p.Fields.numCustomPurposes]));try{a+=n.encode(e,o)}catch(e){throw new d.EncodingError("Error encoding ".concat(r,"->").concat(t,": ").concat(e.message))}}),o.Base64Url.encode(a)},r.decode=function(e,i,t){var r=this,s=o.Base64Url.decode(e),a=0;t===h.Segment.CORE&&(i.version=l.IntEncoder.decode(s.substr(a,u.BitLength[p.Fields.version]),u.BitLength[p.Fields.version])),t!==h.Segment.CORE&&(a+=u.BitLength.segmentType);var t=this.fieldSequence[String(i.version)][t],c=(0,l.FieldEncoderMap)();return t.forEach(function(e){var t=c[e],n=u.BitLength[e];if(0!==(n=void 0===n&&r.isPublisherCustom(e)?Number(i[p.Fields.numCustomPurposes]):n)){var o=s.substr(a,n);if(t===l.VendorVectorEncoder?i[e]=t.decode(o,i.version):i[e]=t.decode(o,n),Number.isInteger(n))a+=n;else{if(!Number.isInteger(i[e].bitLength))throw new d.DecodingError(e);a+=i[e].bitLength}}}),i},r.isPublisherCustom=function(e){return 0===e.indexOf("publisherCustom")},r.fieldSequence=new i.FieldSequence,r);function r(){}t.SegmentEncoder=i},4864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticPreEncoder=void 0;var o=n(6468),l=n(8663),n=(i.process=function(e,t){var n=e.gvl;if(!n)throw new o.EncodingError("Unable to encode TCModel without a GVL");if(!n.isReady)throw new o.EncodingError("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),0<(null==t?void 0:t.version)&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;t=e.version-1;if(!this.processor[t])throw new o.EncodingError("Invalid version: ".concat(e.version));return this.processor[t](e,n)},i.processor=[function(e){return e},function(c,u){c.publisherRestrictions.gvl=u,c.purposeLegitimateInterests.unset(1);var e=new Map;return e.set("legIntPurposes",c.vendorLegitimateInterests),e.set("purposes",c.vendorConsents),e.forEach(function(s,a){s.forEach(function(e,t){if(e){e=u.vendors[t];if(!e||e.deletedDate)s.unset(t);else if(0===e[a].length&&!("legIntPurposes"===a&&0===e.purposes.length&&0===e.legIntPurposes.length&&0<e.specialPurposes.length))if(c.isServiceSpecific)if(0===e.flexiblePurposes.length)s.unset(t);else{for(var n=c.publisherRestrictions.getRestrictions(t),o=!1,i=0,r=n.length;i<r&&!o;i++)o=n[i].restrictionType===l.RestrictionType.REQUIRE_CONSENT&&"purposes"===a||n[i].restrictionType===l.RestrictionType.REQUIRE_LI&&"legIntPurposes"===a;o||s.unset(t)}else s.unset(t)}})}),c.vendorsDisclosed.set(u.vendors),c}],i);function i(){}t.SemanticPreEncoder=n},5494:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanEncoder=void 0;var n=(o.encode=function(e){return String(Number(e))},o.decode=function(e){return"1"===e},o);function o(){}t.BooleanEncoder=n},7116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateEncoder=void 0;var o=n(6776),i=n(6468),n=(r.encode=function(e,t){return o.IntEncoder.encode(Math.round(e.getTime()/100),t)},r.decode=function(e,t){if(t!==e.length)throw new i.DecodingError("invalid bit length");var n=new Date;return n.setTime(100*o.IntEncoder.decode(e,t)),n},r);function r(){}t.DateEncoder=n},331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldEncoderMap=void 0;var o=n(8663),i=n(5494),r=n(7116),s=n(1830),a=n(6776),c=n(206),u=n(9148),l=n(5793);t.FieldEncoderMap=function(){var e;return(e={})[o.Fields.version]=a.IntEncoder,e[o.Fields.created]=r.DateEncoder,e[o.Fields.lastUpdated]=r.DateEncoder,e[o.Fields.cmpId]=a.IntEncoder,e[o.Fields.cmpVersion]=a.IntEncoder,e[o.Fields.consentScreen]=a.IntEncoder,e[o.Fields.consentLanguage]=c.LangEncoder,e[o.Fields.vendorListVersion]=a.IntEncoder,e[o.Fields.policyVersion]=a.IntEncoder,e[o.Fields.isServiceSpecific]=i.BooleanEncoder,e[o.Fields.useNonStandardStacks]=i.BooleanEncoder,e[o.Fields.specialFeatureOptins]=s.FixedVectorEncoder,e[o.Fields.purposeConsents]=s.FixedVectorEncoder,e[o.Fields.purposeLegitimateInterests]=s.FixedVectorEncoder,e[o.Fields.purposeOneTreatment]=i.BooleanEncoder,e[o.Fields.publisherCountryCode]=c.LangEncoder,e[o.Fields.vendorConsents]=l.VendorVectorEncoder,e[o.Fields.vendorLegitimateInterests]=l.VendorVectorEncoder,e[o.Fields.publisherRestrictions]=u.PurposeRestrictionVectorEncoder,e.segmentType=a.IntEncoder,e[o.Fields.vendorsDisclosed]=l.VendorVectorEncoder,e[o.Fields.vendorsAllowed]=l.VendorVectorEncoder,e[o.Fields.publisherConsents]=s.FixedVectorEncoder,e[o.Fields.publisherLegitimateInterests]=s.FixedVectorEncoder,e[o.Fields.numCustomPurposes]=a.IntEncoder,e[o.Fields.publisherCustomConsents]=s.FixedVectorEncoder,e[o.Fields.publisherCustomLegitimateInterests]=s.FixedVectorEncoder,e}},1830:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedVectorEncoder=void 0;var i=n(5494),r=n(6468),s=n(8663),n=(o.encode=function(e,t){for(var n="",o=1;o<=t;o++)n+=i.BooleanEncoder.encode(e.has(o));return n},o.decode=function(e,t){if(e.length!==t)throw new r.DecodingError("bitfield encoding length mismatch");for(var n=new s.Vector,o=1;o<=t;o++)i.BooleanEncoder.decode(e[o-1])&&n.set(o);return n.bitLength=e.length,n},o);function o(){}t.FixedVectorEncoder=n},6776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntEncoder=void 0;var o=n(6468),n=(i.encode=function(e,t){var n;if((n=(e="string"==typeof e?parseInt(e,10):e).toString(2)).length>t||e<0)throw new o.EncodingError("".concat(e," too large to encode into ").concat(t));return n=n.length<t?"0".repeat(t-n.length)+n:n},i.decode=function(e,t){if(t!==e.length)throw new o.DecodingError("invalid bit length");return parseInt(e,2)},i);function i(){}t.IntEncoder=n},206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LangEncoder=void 0;var i=n(6776),r=n(6468),n=(o.encode=function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,o=e.charCodeAt(1)-65;if(n<0||25<n||o<0||25<o)throw new r.EncodingError("invalid language code: ".concat(e));if(t%2==1)throw new r.EncodingError("numBits must be even, ".concat(t," is not valid"));return i.IntEncoder.encode(n,t/=2)+i.IntEncoder.encode(o,t)},o.decode=function(e,t){if(t!==e.length||e.length%2)throw new r.DecodingError("invalid bit length for language");var n=e.length/2,t=i.IntEncoder.decode(e.slice(0,n),n)+65,n=i.IntEncoder.decode(e.slice(n),n)+65;return String.fromCharCode(t)+String.fromCharCode(n)},o);function o(){}t.LangEncoder=n},9148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PurposeRestrictionVectorEncoder=void 0;var f=n(9093),g=n(5494),v=n(6468),_=n(6776),y=n(8663),n=(o.encode=function(u){var n=_.IntEncoder.encode(u.numRestrictions,f.BitLength.numRestrictions);return u.isEmpty()||u.getRestrictions().forEach(function(e){n+=_.IntEncoder.encode(e.purposeId,f.BitLength.purposeId),n+=_.IntEncoder.encode(e.restrictionType,f.BitLength.restrictionType);for(var i=u.getVendors(e),r=i.length,s=0,a=0,c="",t=0;t<r;t++)!function(e){var t=i[e];0===a&&(s++,a=t);var n=i[r-1],o=u.gvl.vendorIds;(e===r-1||i[e+1]>function(e){for(;++e<=n&&!o.has(e););return e}(t))&&(e=!(t===a),c+=g.BooleanEncoder.encode(e),c+=_.IntEncoder.encode(a,f.BitLength.vendorId),e&&(c+=_.IntEncoder.encode(t,f.BitLength.vendorId)),a=0)}(t);n+=_.IntEncoder.encode(s,f.BitLength.numEntries),n+=c}),n},o.decode=function(e){var t=0,n=new y.PurposeRestrictionVector,o=_.IntEncoder.decode(e.substr(t,f.BitLength.numRestrictions),f.BitLength.numRestrictions);t+=f.BitLength.numRestrictions;for(var i=0;i<o;i++){var r=_.IntEncoder.decode(e.substr(t,f.BitLength.purposeId),f.BitLength.purposeId);t+=f.BitLength.purposeId;var s=_.IntEncoder.decode(e.substr(t,f.BitLength.restrictionType),f.BitLength.restrictionType);t+=f.BitLength.restrictionType;var a=new y.PurposeRestriction(r,s),c=_.IntEncoder.decode(e.substr(t,f.BitLength.numEntries),f.BitLength.numEntries);t+=f.BitLength.numEntries;for(var u=0;u<c;u++){var l=g.BooleanEncoder.decode(e.substr(t,f.BitLength.anyBoolean));t+=f.BitLength.anyBoolean;var d=_.IntEncoder.decode(e.substr(t,f.BitLength.vendorId),f.BitLength.vendorId);if(t+=f.BitLength.vendorId,l){var p=_.IntEncoder.decode(e.substr(t,f.BitLength.vendorId),f.BitLength.vendorId);if(t+=f.BitLength.vendorId,p<d)throw new v.DecodingError("Invalid RangeEntry: endVendorId ".concat(p," is less than ").concat(d));for(var h=d;h<=p;h++)n.add(h,a)}else n.add(d,a)}}return n.bitLength=t,n},o);function o(){}t.PurposeRestrictionVectorEncoder=n},3759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorEncodingType=void 0,(t=t.VectorEncodingType||(t.VectorEncodingType={}))[t.FIELD=0]="FIELD",t[t.RANGE=1]="RANGE"},5793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VendorVectorEncoder=void 0;var p=n(8663),h=n(2368),f=n(6776),g=n(5494),v=n(1830),_=n(3759),y=n(6468),n=(o.encode=function(n){var o,i=[],r=[],e=f.IntEncoder.encode(n.maxId,h.BitLength.maxId),s="",t=h.BitLength.maxId+h.BitLength.encodingType,a=t+n.maxId,c=2*h.BitLength.vendorId+h.BitLength.singleOrRange+h.BitLength.numEntries,u=t+h.BitLength.numEntries;return n.forEach(function(e,t){s+=g.BooleanEncoder.encode(e),(o=n.maxId>c&&u<a)&&e&&(n.has(t+1)?0===r.length&&(r.push(t),u+=h.BitLength.singleOrRange,u+=h.BitLength.vendorId):(r.push(t),u+=h.BitLength.vendorId,i.push(r),r=[]))}),o?(e+=String(_.VectorEncodingType.RANGE),e+=this.buildRangeEncoding(i)):(e+=String(_.VectorEncodingType.FIELD),e+=s),e},o.decode=function(e,t){var n,o=0,i=f.IntEncoder.decode(e.substr(o,h.BitLength.maxId),h.BitLength.maxId);o+=h.BitLength.maxId;var r=f.IntEncoder.decode(e.charAt(o),h.BitLength.encodingType);if(o+=h.BitLength.encodingType,r===_.VectorEncodingType.RANGE){if(n=new p.Vector,1===t){if("1"===e.substr(o,1))throw new y.DecodingError("Unable to decode default consent=1");o++}var s=f.IntEncoder.decode(e.substr(o,h.BitLength.numEntries),h.BitLength.numEntries);o+=h.BitLength.numEntries;for(var a=0;a<s;a++){var c=g.BooleanEncoder.decode(e.charAt(o));o+=h.BitLength.singleOrRange;var u=f.IntEncoder.decode(e.substr(o,h.BitLength.vendorId),h.BitLength.vendorId);if(o+=h.BitLength.vendorId,c){var l=f.IntEncoder.decode(e.substr(o,h.BitLength.vendorId),h.BitLength.vendorId);o+=h.BitLength.vendorId;for(var d=u;d<=l;d++)n.set(d)}else n.set(u)}}else{t=e.substr(o,i);o+=i,n=v.FixedVectorEncoder.decode(t,i)}return n.bitLength=o,n},o.buildRangeEncoding=function(e){var t=e.length,n=f.IntEncoder.encode(t,h.BitLength.numEntries);return e.forEach(function(e){var t=1===e.length;n+=g.BooleanEncoder.encode(!t),n+=f.IntEncoder.encode(e[0],h.BitLength.vendorId),t||(n+=f.IntEncoder.encode(e[1],h.BitLength.vendorId))}),n},o);function o(){}t.VendorVectorEncoder=n},9999:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5494),t),i(n(7116),t),i(n(331),t),i(n(1830),t),i(n(6776),t),i(n(206),t),i(n(9148),t),i(n(3759),t),i(n(5793),t)},2368:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4952),t),i(n(9093),t),i(n(4818),t),i(n(1123),t),i(n(4864),t),i(n(9999),t),i(n(1148),t)},6857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldSequence=void 0;var o=n(8663);t.FieldSequence=function(){var e;this[1]=((e={})[o.Segment.CORE]=[o.Fields.version,o.Fields.created,o.Fields.lastUpdated,o.Fields.cmpId,o.Fields.cmpVersion,o.Fields.consentScreen,o.Fields.consentLanguage,o.Fields.vendorListVersion,o.Fields.purposeConsents,o.Fields.vendorConsents],e),this[2]=((e={})[o.Segment.CORE]=[o.Fields.version,o.Fields.created,o.Fields.lastUpdated,o.Fields.cmpId,o.Fields.cmpVersion,o.Fields.consentScreen,o.Fields.consentLanguage,o.Fields.vendorListVersion,o.Fields.policyVersion,o.Fields.isServiceSpecific,o.Fields.useNonStandardStacks,o.Fields.specialFeatureOptins,o.Fields.purposeConsents,o.Fields.purposeLegitimateInterests,o.Fields.purposeOneTreatment,o.Fields.publisherCountryCode,o.Fields.vendorConsents,o.Fields.vendorLegitimateInterests,o.Fields.publisherRestrictions],e[o.Segment.PUBLISHER_TC]=[o.Fields.publisherConsents,o.Fields.publisherLegitimateInterests,o.Fields.numCustomPurposes,o.Fields.publisherCustomConsents,o.Fields.publisherCustomLegitimateInterests],e[o.Segment.VENDORS_ALLOWED]=[o.Fields.vendorsAllowed],e[o.Segment.VENDORS_DISCLOSED]=[o.Fields.vendorsDisclosed],e)}},912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentSequence=void 0;var o=n(8663);t.SegmentSequence=function(e,t){this[1]=[o.Segment.CORE],this[2]=[o.Segment.CORE],2===e.version&&(e.isServiceSpecific?this[2].push(o.Segment.PUBLISHER_TC):((t=!(!t||!t.isForVendors))&&!0!==e[o.Fields.supportOOB]||this[2].push(o.Segment.VENDORS_DISCLOSED),t&&(e[o.Fields.supportOOB]&&0<e[o.Fields.vendorsAllowed].size&&this[2].push(o.Segment.VENDORS_ALLOWED),this[2].push(o.Segment.PUBLISHER_TC))))}},4020:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1148:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(6857),t),i(n(912),t),i(n(4020),t)},5709:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DecodingError=void 0;var i,n=(i=Error,n(r,i),r);function r(e){e=i.call(this,e)||this;return e.name="DecodingError",e}t.DecodingError=n},9094:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingError=void 0;var i,n=(i=Error,n(r,i),r);function r(e){e=i.call(this,e)||this;return e.name="EncodingError",e}t.EncodingError=n},7849:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GVLError=void 0;var i,n=(i=Error,n(r,i),r);function r(e){e=i.call(this,e)||this;return e.name="GVLError",e}t.GVLError=n},6325:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TCModelError=void 0;var i,n=(i=Error,n(r,i),r);function r(e,t,n){void 0===n&&(n="");n=i.call(this,"invalid value ".concat(t," passed for ").concat(e," ").concat(n))||this;return n.name="TCModelError",n}t.TCModelError=n},6468:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5709),t),i(n(9094),t),i(n(7849),t),i(n(6325),t)},3406:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2368),t),i(n(6468),t),i(n(8663),t),i(n(6542),t),i(n(4892),t),i(n(5761),t),i(n(3769),t),i(n(5064),t)},3301:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BinarySearchTree=void 0;var r,n=n(6542),i=(r=n.Cloneable,i(s,r),s.prototype.getRoot=function(){return this.root},s.prototype.isEmpty=function(){return!this.root},s.prototype.add=function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}},s.prototype.get=function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;t=n.right==t?(n.right=null,e.push(t.value),t.right):(n.right=t).left}else e.push(t.value),t=t.right;return e},s.prototype.contains=function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t},s.prototype.min=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.left||(t=e.value,null);return t},s.prototype.max=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.right||(t=e.value,null);return t},s.prototype.remove=function(e,t){void 0===t&&(t=this.root);for(var n,o=null,i="left";t;)e<t.value?(t=(o=t).left,i="left"):e>t.value?(t=(o=t).right,i="right"):(t.left||t.right?t.left?t.right?(n=this.min(t.right),this.remove(n,t.right),t.value=n):o?o[i]=t.left:this.root=t.left:o?o[i]=t.right:this.root=t.right:o?o[i]=null:this.root=null,t=null)},s.build=function(e){if(e&&0!==e.length){if(1===e.length)return(t=new s).add(e[0]),t;var t,n=e.length>>1;(t=new s).add(e[n]);var o,i=t.getRoot();return i&&(1+n<e.length&&(o=s.build(e.slice(1+n)),i.right=o?o.getRoot():null),0<n-1&&(n=s.build(e.slice(0,n-1)),i.left=n?n.getRoot():null)),t}return null},s);function s(){var e=null!==r&&r.apply(this,arguments)||this;return e.root=null,e}t.BinarySearchTree=i},6121:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentLanguages=void 0;var n=(o.prototype.has=function(e){return o.langSet.has(e)},o.prototype.forEach=function(e){o.langSet.forEach(e)},Object.defineProperty(o.prototype,"size",{get:function(){return o.langSet.size},enumerable:!1,configurable:!0}),o.langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]),o);function o(){}t.ConsentLanguages=n},2183:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceDisclosureStorageAccessType=void 0,(t=t.DeviceDisclosureStorageAccessType||(t.DeviceDisclosureStorageAccessType={})).COOKIE="cookie",t.WEB="web",t.APP="app"},8927:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Fields=void 0;var n=(o.cmpId="cmpId",o.cmpVersion="cmpVersion",o.consentLanguage="consentLanguage",o.consentScreen="consentScreen",o.created="created",o.supportOOB="supportOOB",o.isServiceSpecific="isServiceSpecific",o.lastUpdated="lastUpdated",o.numCustomPurposes="numCustomPurposes",o.policyVersion="policyVersion",o.publisherCountryCode="publisherCountryCode",o.publisherCustomConsents="publisherCustomConsents",o.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",o.publisherLegitimateInterests="publisherLegitimateInterests",o.publisherConsents="publisherConsents",o.publisherRestrictions="publisherRestrictions",o.purposeConsents="purposeConsents",o.purposeLegitimateInterests="purposeLegitimateInterests",o.purposeOneTreatment="purposeOneTreatment",o.specialFeatureOptins="specialFeatureOptins",o.useNonStandardStacks="useNonStandardStacks",o.vendorConsents="vendorConsents",o.vendorLegitimateInterests="vendorLegitimateInterests",o.vendorListVersion="vendorListVersion",o.vendorsAllowed="vendorsAllowed",o.vendorsDisclosed="vendorsDisclosed",o.version="version",o);function o(){}t.Fields=n},3263:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3621:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PurposeRestriction=void 0;var r,s=n(6542),a=n(6468),c=n(701),i=(r=s.Cloneable,i(u,r),u.unHash=function(e){var t=e.split(this.hashSeparator),n=new u;if(2!==t.length)throw new a.TCModelError("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n},Object.defineProperty(u.prototype,"hash",{get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(u.hashSeparator).concat(this.restrictionType)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"purposeId",{get:function(){return this.purposeId_},set:function(e){this.purposeId_=e},enumerable:!1,configurable:!0}),u.prototype.isValid=function(){return Number.isInteger(this.purposeId)&&0<this.purposeId&&(this.restrictionType===c.RestrictionType.NOT_ALLOWED||this.restrictionType===c.RestrictionType.REQUIRE_CONSENT||this.restrictionType===c.RestrictionType.REQUIRE_LI)},u.prototype.isSameAs=function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType},u.hashSeparator="-",u);function u(e,t){var n=r.call(this)||this;return void 0!==e&&(n.purposeId=e),void 0!==t&&(n.restrictionType=t),n}t.PurposeRestriction=i},8730:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&o>=e.length?void 0:e)&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)s.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.PurposeRestrictionVector=void 0;var r,u=n(3621),l=n(3301),d=n(701),n=n(6542),i=(r=n.Cloneable,i(p,r),p.prototype.has=function(e){return this.map.has(e)},p.prototype.isOkToHave=function(e,t,n){var o,i=!0;if(null!==(o=this.gvl)&&void 0!==o&&o.vendors){var r=this.gvl.vendors[n];if(r)if(e===d.RestrictionType.NOT_ALLOWED)i=r.legIntPurposes.includes(t)||r.purposes.includes(t);else if(r.flexiblePurposes.length)switch(e){case d.RestrictionType.REQUIRE_CONSENT:i=r.flexiblePurposes.includes(t)&&r.legIntPurposes.includes(t);break;case d.RestrictionType.REQUIRE_LI:i=r.flexiblePurposes.includes(t)&&r.purposes.includes(t)}else i=!1;else i=!1}return i},p.prototype.add=function(e,t){this.isOkToHave(t.restrictionType,t.purposeId,e)&&(t=t.hash,this.has(t)||(this.map.set(t,new l.BinarySearchTree),this.bitLength=0),this.map.get(t).add(e))},p.prototype.restrictPurposeToLegalBasis=function(e){for(var r=this.gvl.vendorIds,t=e.hash,n=function(){var t,e,n;try{for(var o=s(r),i=o.next();!i.done;i=o.next())n=i.value}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n}(),o=c([],a(Array(n).keys()),!1).map(function(e){return e+1}),i=1;i<=n;i++)this.has(t)||(this.map.set(t,l.BinarySearchTree.build(o)),this.bitLength=0),this.map.get(t).add(i)},p.prototype.getVendors=function(e){var t,n=[];return e?(e=e.hash,this.has(e)&&(n=this.map.get(e).get())):(t=new Set,this.map.forEach(function(e){e.get().forEach(function(e){t.add(e)})}),n=Array.from(t)),n},p.prototype.getRestrictionType=function(e,t){var n;return this.getRestrictions(e).forEach(function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)}),n},p.prototype.vendorHasRestriction=function(e,t){for(var n=!1,o=this.getRestrictions(e),i=0;i<o.length&&!n;i++)n=t.isSameAs(o[i]);return n},p.prototype.getMaxVendorId=function(){var t=0;return this.map.forEach(function(e){t=Math.max(e.max(),t)}),t},p.prototype.getRestrictions=function(n){var o=[];return this.map.forEach(function(e,t){n&&!e.contains(n)||o.push(u.PurposeRestriction.unHash(t))}),o},p.prototype.getPurposes=function(){var n=new Set;return this.map.forEach(function(e,t){n.add(u.PurposeRestriction.unHash(t).purposeId)}),Array.from(n)},p.prototype.remove=function(e,t){var n=t.hash,t=this.map.get(n);t&&(t.remove(e),t.isEmpty()&&(this.map.delete(n),this.bitLength=0))},Object.defineProperty(p.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){var o=this;this.gvl_||(this.gvl_=e,this.map.forEach(function(t,e){var n=u.PurposeRestriction.unHash(e);t.get().forEach(function(e){o.isOkToHave(n.restrictionType,n.purposeId,e)||t.remove(e)})}))},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return 0===this.map.size},Object.defineProperty(p.prototype,"numRestrictions",{get:function(){return this.map.size},enumerable:!1,configurable:!0}),p);function p(){var e=null!==r&&r.apply(this,arguments)||this;return e.bitLength=0,e.map=new Map,e}t.PurposeRestrictionVector=i},701:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictionType=void 0,(t=t.RestrictionType||(t.RestrictionType={}))[t.NOT_ALLOWED=0]="NOT_ALLOWED",t[t.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",t[t.REQUIRE_LI=2]="REQUIRE_LI"},5e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Segment=void 0,(t=t.Segment||(t.Segment={})).CORE="core",t.VENDORS_DISCLOSED="vendorsDisclosed",t.VENDORS_ALLOWED="vendorsAllowed",t.PUBLISHER_TC="publisherTC"},4481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentIDs=void 0;var o=n(5e3),n=(i.ID_TO_KEY=[o.Segment.CORE,o.Segment.VENDORS_DISCLOSED,o.Segment.VENDORS_ALLOWED,o.Segment.PUBLISHER_TC],i.KEY_TO_ID=((n={})[o.Segment.CORE]=0,n[o.Segment.VENDORS_DISCLOSED]=1,n[o.Segment.VENDORS_ALLOWED]=2,n[o.Segment.PUBLISHER_TC]=3,n),i);function i(){}t.SegmentIDs=n},6388:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__generator||function(n,o){var i,r,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,r&&(s=2&t[0]?r.return:t[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,t[1])).done)return s;switch(r=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,r=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(n,a)}catch(e){t=[6,e],r=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=void 0;var s,a=n(6542),c=n(6468),i=(s=a.Cloneable,i(u,s),u.prototype[Symbol.iterator]=function(){var t;return r(this,function(e){switch(e.label){case 0:t=1,e.label=1;case 1:return t<=this.maxId?[4,[t,this.has(t)]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},u.prototype.values=function(){return this.set_.values()},Object.defineProperty(u.prototype,"maxId",{get:function(){return this.maxId_},enumerable:!1,configurable:!0}),u.prototype.has=function(e){return this.set_.has(e)},u.prototype.unset=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t.unset(e)}):"object"==typeof e?this.unset(Object.keys(e).map(function(e){return Number(e)})):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(function(e){t.maxId_=Math.max(t.maxId,e)})))},u.prototype.isIntMap=function(n){var o=this,e="object"==typeof n;return e&&Object.keys(n).every(function(e){var t=Number.isInteger(parseInt(e,10));return(t=t&&o.isValidNumber(n[e].id))&&void 0!==n[e].name})},u.prototype.isValidNumber=function(e){return 0<parseInt(e,10)},u.prototype.isSet=function(e){var t=!1;return t=e instanceof Set?Array.from(e).every(this.isValidNumber):t},u.prototype.set=function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){return t.set(e)});else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(function(e){return Number(e)}));else{if(!this.isValidNumber(e))throw new c.TCModelError("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}},u.prototype.empty=function(){this.set_=new Set},u.prototype.forEach=function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)},Object.defineProperty(u.prototype,"size",{get:function(){return this.set_.size},enumerable:!1,configurable:!0}),u.prototype.setAll=function(e){this.set(e)},u);function u(){var e=null!==s&&s.apply(this,arguments)||this;return e.bitLength=0,e.maxId_=0,e.set_=new Set,e}t.Vector=i},5522:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4196:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7128:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5269:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2596:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5522),t),i(n(9255),t),i(n(4196),t),i(n(7128),t),i(n(5923),t),i(n(955),t),i(n(5269),t),i(n(2959),t),i(n(4537),t)},8663:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3301),t),i(n(6121),t),i(n(8927),t),i(n(3263),t),i(n(5708),t),i(n(3621),t),i(n(8730),t),i(n(4661),t),i(n(2183),t),i(n(701),t),i(n(5e3),t),i(n(4481),t),i(n(6388),t),i(n(2596),t)}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;t=o[e]={id:e,loaded:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);i(2707)})();